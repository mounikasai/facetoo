!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("C:\\Users\\rousturg\\source\\repos\\SearchMaster\\Facetoo\\node_modules\\handlebars\\runtime.js")):"function"==typeof define&&define.amd?define(["C:\\Users\\rousturg\\source\\repos\\SearchMaster\\Facetoo\\node_modules\\handlebars\\runtime.js"],t):"object"==typeof exports?exports.Facetoo=t(require("C:\\Users\\rousturg\\source\\repos\\SearchMaster\\Facetoo\\node_modules\\handlebars\\runtime.js")):e.Facetoo=t(e["C:\\Users\\rousturg\\source\\repos\\SearchMaster\\Facetoo\\node_modules\\handlebars\\runtime.js"])}("undefined"!=typeof self?self:this,function(e){return function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(t,n){t.exports=e},function(e,t,n){var i=n(0);e.exports=(i.default||i).template({1:function(e,t,n,i,a,o,l){var r;return'<div class="content">\n    <h5 class="gui sub blue floated left header">Applied Filters</h5>\n    <div class="gui mini right floated buttons">\n        <button class="gui mini icon button remove-all">\n            <i class="icon icon-close"></i>\n        </button>\n    </div>\n    <div class="gui tiny hidden clearing divider"></div>\n    <table class="gui very compact small collapsing border-less table" style="border: none;;clear:both;">\n        <tbod>\n'+(null!=(r=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.filters:t,{name:"each",hash:{},fn:e.program(2,a,0,o,l),inverse:e.noop,data:a}))?r:"")+"        </tbod>\n    </table>\n</div>\n"},2:function(e,t,n,i,a,o,l){var r,s,c=null!=t?t:e.nullContext||{};return'            <tr class="top aligned">\n                <td>'+e.escapeExpression((s=null!=(s=n.id||(null!=t?t.id:t))?s:n.helperMissing,"function"==typeof s?s.call(c,{name:"id",hash:{},data:a}):s))+'</td>\n                <td>\n                    <span class="gui mini blue labels facet-labels">\n'+(null!=(r=n.each.call(c,null!=t?t.facetValues:t,{name:"each",hash:{},fn:e.program(3,a,0,o,l),inverse:e.noop,data:a}))?r:"")+"                    </span>\n                </td>\n            </tr>\n"},3:function(e,t,n,i,a,o,l){var r=e.lambda,s=e.escapeExpression;return'                        <span class="gui label remove-label" data-filter-entry="'+s(r(null!=l[1]?l[1].id:l[1],t))+":"+s(r(null!=t?t.label:t,t))+'">\n                            '+s(r(null!=t?t.label:t,t))+'\n                            <i class="icon icon-close"></i>\n                        </span>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,o,l){var r;return null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=(r=null!=t?t.filters:t)?r.length:r,{name:"if",hash:{},fn:e.program(1,a,0,o,l),inverse:e.noop,data:a}))?r:""},useData:!0,useDepths:!0})},function(e,t,n){function i(e){return e&&(e.__esModule?e.default:e)}var a=n(0);e.exports=(a.default||a).template({1:function(e,t,n,i,a,o,l){var r;return'        <div class="item facet-item">\n            <div class="content">\n                <div class="facet-item-header cursor-pointer">\n                    <i class="right triangle icon"></i>\n                    <span>'+e.escapeExpression(e.lambda(null!=t?t.name:t,t))+'</span>\n                </div>\n                <div class="description facet-item-description" style="display:none;">\n                    <div class="gui small list">\n'+(null!=(r=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.facetValues:t,{name:"each",hash:{},fn:e.program(2,a,0,o,l),inverse:e.noop,data:a}))?r:"")+"                    </div>\n                </div>\n            </div>\n        </div>\n"},2:function(e,t,a,o,l,r,s){var c=e.lambda,u=e.escapeExpression,d=null!=t?t:e.nullContext||{};return'                        <div class="item">\n                            <input style="height:0.85em;" id="'+u(c(null!=t?t.label:t,t))+"-"+u(c(l&&l.index,t))+'" '+u(i(n(8)).call(d,null!=t?t.selected:t,{name:"Checked",hash:{},data:l}))+" "+u(i(n(9)).call(d,null!=t?t.disabled:t,{name:"Disabled",hash:{},data:l}))+' class="facet-value-checkbox cursor-pointer" value="'+u(c(null!=s[1]?s[1].id:s[1],t))+":"+u(c(null!=t?t.label:t,t))+'" type="checkbox"/>\n                            <label style="font-size:0.85em;" class="cursor-pointer" for="'+u(c(null!=t?t.label:t,t))+"-"+u(c(l&&l.index,t))+'">'+u(c(null!=t?t.label:t,t))+" ("+u(c(null!=t?t.count:t,t))+")</label>\n                        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,o,l){var r;return'<div class="content" style="height: 100%;overflow:hidden;">\n    <h5 class="gui sub blue left floated header">Select Filters</h5>\n    <div class="gui mini right floated buttons">\n        <button class="gui mini icon button expand-all">\n            <i class="icon icon-plus"></i>\n        </button>\n        <button class="gui mini icon button collapse-all">\n            <i class="icon icon-minus"></i>\n        </button>\n    </div>\n    <div class="gui tiny hidden clearing divider"></div>\n    <div class="gui medium list facet-list" style="height: 100%;overflow: auto;clear:both;">\n'+(null!=(r=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.facets:t,{name:"each",hash:{},fn:e.program(1,a,0,o,l),inverse:e.noop,data:a}))?r:"")+"    </div>\n</div>"},useData:!0,useDepths:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=n(5),o=n(7),l=n(12),r=function(){function e(e){var t=this;this.handlerChain=[],this.showLoader=function(){jQuery(t.configStore.Options.containerElement).find(".facet-loader").addClass("active")},this.hideLoader=function(){jQuery(t.configStore.Options.containerElement).find(".facet-loader").remove("active")},this.BindOnlyFacets=function(e){if(t.bindFinished){var n=t.templateService.BindOnlyFacets(e);t.parentElement.find(".facet-body").html(n)}else{t.templateService.Bind(e,[])}},this.BindOnlyAppliedFilters=function(e){if(t.bindFinished){var n=t.templateService.BindOnlyAppliedFilters(e);t.parentElement.find(".facet-subheader").html(n)}else{t.templateService.Bind([],e)}},this.Bind=function(e,n){t.parentElement.html(t.templateService.Bind(e,n)),t.bindFinished=!0},this.configStore=new l.ConfigStore(e),this.parentElement=jQuery(e.containerElement),this.templateService=new o.FacetTemplateService,this.handlerChain.push(new i.ExpandCollapseHandler(this.parentElement,this.configStore)),this.handlerChain.push(new a.FilterActionHandler(this.parentElement,this.configStore)),this.handlerChain.forEach(function(e){e.RegisterDomHandler()})}return e}();t.Facet=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i;!function(e){e[e.Show=0]="Show",e[e.Hide=1]="Hide",e[e.Toggle=2]="Toggle"}(i||(i={}));var a=function(){function e(e,t){this.element=e,this.configStore=t,this.ControlVisibilityOfFilter=function(e,t){var n=e.children("i"),a=n.hasClass("down");i.Toggle!==t&&(a&&t===i.Show||!a&&t===i.Hide)||(a?(e.parents(".facet-item").find(".facet-item-description").hide(),n.removeClass("down"),n.addClass("right")):(e.parents(".facet-item").find(".facet-item-description").show(),n.removeClass("right"),n.addClass("down")))}}return e.prototype.RegisterDomHandler=function(){var e=this;this.element.on("click",".facet-body .expand-all",function(t){e.element.find(".facet-item-header").each(function(t,n){e.ControlVisibilityOfFilter(jQuery(n),i.Show)}),t.stopPropagation()}),this.element.on("click",".facet-body .collapse-all",function(t){e.element.find(".facet-item-header").each(function(t,n){e.ControlVisibilityOfFilter(jQuery(n),i.Hide)}),t.stopPropagation()}),this.element.on("click",".facet-body .facet-item .facet-item-header",function(t){var n=jQuery(t.target).parents(".facet-item-header");e.element.find(".facet-header .button").removeAttr("disabled"),e.ControlVisibilityOfFilter(n,i.Toggle),t.stopPropagation()})},e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(e){},e}();t.ExpandCollapseHandler=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),a=function(){function e(e,t){this.element=e,this.configStore=t}return e.prototype.RegisterDomHandler=function(){var e=this;this.element.on("change",".facet-body .facet-item-description .facet-value-checkbox",function(t){var n=jQuery(t.target),a=n.val().toString(),o=a.split(":"),l=n.is(":checked"),r=l?i.FilterActionType.Add:i.FilterActionType.Minus;e.configStore.Options.onFilterChange(o[0],o[1],r)}),this.element.on("click",".facet-subheader .facet-labels .label",function(t){var n=jQuery(t.target);n.is(".label")||(n=n.parents(".label"));var a=n.attr("data-filter-entry").toString(),o=a.split(":");e.configStore.Options.onFilterChange(o[0],o[1],i.FilterActionType.Minus)}),this.element.on("click",".facet-subheader .remove-all",function(t){e.element.find(".facet-subheader").hide(),e.configStore.Options.onAllFilterRemove()})},e.prototype.onResize=function(){},e.prototype.onDocumentClick=function(e){},e}();t.FilterActionHandler=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.Add="Add",e.Minus="Minus"}(t.FilterActionType||(t.FilterActionType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(2),o=n(10),l=function(){function e(){this.tempateFunctionForFacetMain=o,this.tempateFunctionForFacetSubHeader=i,this.tempateFunctionForFacetBody=a}return e.prototype.Bind=function(e,t){return this.tempateFunctionForFacetMain({facets:e,filters:t})},e.prototype.BindOnlyFacets=function(e){return this.tempateFunctionForFacetBody({facets:e})},e.prototype.BindOnlyAppliedFilters=function(e){return this.tempateFunctionForFacetSubHeader({filters:e})},e}();t.FacetTemplateService=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e?"checked":""};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e?"disabled":""};t.default=i},function(e,t,n){var i=n(0);e.exports=(i.default||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,i,a,o){var l;return'<style>\n    .remove-label:hover{\n        text-decoration: line-through;\n        cursor: pointer;\n    }\n    .border-less tr td { border-top: 0px !important; }\n    .cursor-pointer{\n        cursor: pointer;\n    }\n</style>\n\n<div class="gui fluid card" style="padding-top : 0px;height:100%;overflow:hidden;">\n    <div class="facet-header">'+(null!=(l=e.invokePartial(n(11),t,{name:"facet-header",data:o,helpers:i,partials:a,decorators:e.decorators}))?l:"")+'</div>\n    <div class="facet-subheader">'+(null!=(l=e.invokePartial(n(1),t,{name:"facet-applied-filters",data:o,helpers:i,partials:a,decorators:e.decorators}))?l:"")+'</div>\n    <div class="facet-body" style="height:100%;overflow:hidden;">'+(null!=(l=e.invokePartial(n(2),t,{name:"facet-body",data:o,helpers:i,partials:a,decorators:e.decorators}))?l:"")+"</div>\n</div>"},usePartial:!0,useData:!0})},function(e,t,n){var i=n(0);e.exports=(i.default||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<div class="content facet-header">\n    <h5 class="gui sub blue floated left header">Filters Section</h5>\n    <div class="gui mini right floated buttons">\n        <button class="gui mini icon button remove-all">\n            <i class="close icon"></i>\n        </button>\n    </div>\n</div>'},useData:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.options=e}return Object.defineProperty(e.prototype,"Options",{get:function(){return this.options},enumerable:!0,configurable:!0}),e}();t.ConfigStore=i}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9mYWNldG9vLm1pbi5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgY2E1NzdhMWEwMTljMTE2ZWNhNWIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiQzpcXFxcVXNlcnNcXFxccm91c3R1cmdcXFxcc291cmNlXFxcXHJlcG9zXFxcXFNlYXJjaE1hc3RlclxcXFxGYWNldG9vXFxcXG5vZGVfbW9kdWxlc1xcXFxoYW5kbGViYXJzXFxcXHJ1bnRpbWUuanNcIiIsIndlYnBhY2s6Ly8vLi9zcmMvaGJzL2ZhY2V0LWFwcGxpZWQtZmlsdGVycy5oYnMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hicy9mYWNldC1ib2R5LmhicyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvbWFpbi9GYWNldC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvZXZlbnRoYW5kbGVycy9FeHBhbmRDb2xsYXBzZUhhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL2V2ZW50aGFuZGxlcnMvRmlsdGVyQWN0aW9uSGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvbW9kZWxzL0ZpbHRlckFjdGlvblR5cGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL3NlcnZpY2VzL0ZhY2V0VGVtcGxhdGVTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9oYnMvaGVscGVycy9DaGVja2VkLnRzIiwid2VicGFjazovLy8uL3NyYy9oYnMvaGVscGVycy9EaXNhYmxlZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaGJzL2ZhY2V0LW1haW4uaGJzIiwid2VicGFjazovLy8uL3NyYy9oYnMvZmFjZXQtaGVhZGVyLmhicyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvY29uZmlnL0NvbmZpZ1N0b3JlLnRzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsInJlcXVpcmUiLCJkZWZpbmUiLCJhbWQiLCJzZWxmIiwidGhpcyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMF9fIiwibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJpIiwibCIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiSGFuZGxlYmFycyIsInRlbXBsYXRlIiwiMSIsImNvbnRhaW5lciIsImRlcHRoMCIsImhlbHBlcnMiLCJwYXJ0aWFscyIsImRhdGEiLCJibG9ja1BhcmFtcyIsImRlcHRocyIsInN0YWNrMSIsImVhY2giLCJudWxsQ29udGV4dCIsImZpbHRlcnMiLCJoYXNoIiwiZm4iLCJwcm9ncmFtIiwiaW52ZXJzZSIsIm5vb3AiLCIyIiwiaGVscGVyIiwiYWxpYXMxIiwiZXNjYXBlRXhwcmVzc2lvbiIsImlkIiwiaGVscGVyTWlzc2luZyIsImZhY2V0VmFsdWVzIiwiMyIsImxhbWJkYSIsImFsaWFzMiIsImxhYmVsIiwiY29tcGlsZXIiLCJtYWluIiwibGVuZ3RoIiwidXNlRGF0YSIsInVzZURlcHRocyIsIl9fZGVmYXVsdCIsIm9iaiIsImFsaWFzMyIsImluZGV4Iiwic2VsZWN0ZWQiLCJkaXNhYmxlZCIsImNvdW50IiwiZmFjZXRzIiwidmFsdWUiLCJFeHBhbmRDb2xsYXBzZUhhbmRsZXJfMSIsIkZpbHRlckFjdGlvbkhhbmRsZXJfMSIsIkZhY2V0VGVtcGxhdGVTZXJ2aWNlXzEiLCJDb25maWdTdG9yZV8xIiwiRmFjZXQiLCJvcHRpb25zIiwiX3RoaXMiLCJoYW5kbGVyQ2hhaW4iLCJzaG93TG9hZGVyIiwialF1ZXJ5IiwiY29uZmlnU3RvcmUiLCJPcHRpb25zIiwiY29udGFpbmVyRWxlbWVudCIsImZpbmQiLCJhZGRDbGFzcyIsImhpZGVMb2FkZXIiLCJyZW1vdmUiLCJCaW5kT25seUZhY2V0cyIsImJpbmRGaW5pc2hlZCIsImZhY2V0U3ViSGVhZGVyIiwidGVtcGxhdGVTZXJ2aWNlIiwicGFyZW50RWxlbWVudCIsImh0bWwiLCJCaW5kIiwiQmluZE9ubHlBcHBsaWVkRmlsdGVycyIsIkNvbmZpZ1N0b3JlIiwiRmFjZXRUZW1wbGF0ZVNlcnZpY2UiLCJwdXNoIiwiRXhwYW5kQ29sbGFwc2VIYW5kbGVyIiwiRmlsdGVyQWN0aW9uSGFuZGxlciIsImZvckVhY2giLCJoYW5kbGVyIiwiUmVnaXN0ZXJEb21IYW5kbGVyIiwiU2hvd0hpZGUiLCJlbGVtZW50IiwiQ29udHJvbFZpc2liaWxpdHlPZkZpbHRlciIsInNob3dIaWRlIiwiaWNvbkVsZW1lbnQiLCJjaGlsZHJlbiIsImN1cnJlbnRseVZpc2libGUiLCJoYXNDbGFzcyIsIlRvZ2dsZSIsIlNob3ciLCJIaWRlIiwicGFyZW50cyIsImhpZGUiLCJyZW1vdmVDbGFzcyIsInNob3ciLCJvbiIsImV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwiaGVhZGVyRWxlbWVudCIsInRhcmdldCIsInJlbW92ZUF0dHIiLCJvblJlc2l6ZSIsIm9uRG9jdW1lbnRDbGljayIsIkZpbHRlckFjdGlvblR5cGVfMSIsInZhbFN0ciIsInZhbCIsInRvU3RyaW5nIiwic3BsaXQiLCJjaGVja2VkIiwiaXMiLCJhY3Rpb24iLCJGaWx0ZXJBY3Rpb25UeXBlIiwiQWRkIiwiTWludXMiLCJvbkZpbHRlckNoYW5nZSIsImF0dHIiLCJvbkFsbEZpbHRlclJlbW92ZSIsIkZhY2V0U3ViSGVhZGVyIiwiRmFjZXRCb2R5IiwiRmFjZXRNYWluIiwidGVtcGF0ZUZ1bmN0aW9uRm9yRmFjZXRNYWluIiwidGVtcGF0ZUZ1bmN0aW9uRm9yRmFjZXRTdWJIZWFkZXIiLCJ0ZW1wYXRlRnVuY3Rpb25Gb3JGYWNldEJvZHkiLCJib29sIiwiZGVmYXVsdCIsImludm9rZVBhcnRpYWwiLCJkZWNvcmF0b3JzIiwidXNlUGFydGlhbCJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsR0FDQSxnQkFBQUMsVUFBQSxnQkFBQUMsUUFDQUEsT0FBQUQsUUFBQUQsRUFBQUcsUUFBQSxvR0FDQSxrQkFBQUMsZ0JBQUFDLElBQ0FELFFBQUEsbUdBQUFKLEdBQ0EsZ0JBQUFDLFNBQ0FBLFFBQUEsUUFBQUQsRUFBQUcsUUFBQSxvR0FFQUosRUFBQSxRQUFBQyxFQUFBRCxFQUFBLHFHQUNDLG1CQUFBTyxXQUFBQyxLQUFBLFNBQUFDLEdBQ0QsTUNBZ0IsVUFBVUMsR0NOMUIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFWLE9BR0EsSUFBQUMsR0FBQVUsRUFBQUQsSUFDQUUsRUFBQUYsRUFDQUcsR0FBQSxFQUNBYixXQVVBLE9BTkFRLEdBQUFFLEdBQUFJLEtBQUFiLEVBQUFELFFBQUFDLElBQUFELFFBQUFTLEdBR0FSLEVBQUFZLEdBQUEsRUFHQVosRUFBQUQsUUF2QkEsR0FBQVcsS0E0REEsT0FoQ0FGLEdBQUFNLEVBQUFQLEVBR0FDLEVBQUFPLEVBQUFMLEVBR0FGLEVBQUFRLEVBQUEsU0FBQWpCLEVBQUFrQixFQUFBQyxHQUNBVixFQUFBVyxFQUFBcEIsRUFBQWtCLElBQ0FHLE9BQUFDLGVBQUF0QixFQUFBa0IsR0FDQUssY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUFOLEtBTUFWLEVBQUFpQixFQUFBLFNBQUF6QixHQUNBLEdBQUFrQixHQUFBbEIsS0FBQTBCLFdBQ0EsV0FBMkIsTUFBQTFCLEdBQUEsU0FDM0IsV0FBaUMsTUFBQUEsR0FFakMsT0FEQVEsR0FBQVEsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBVixFQUFBVyxFQUFBLFNBQUFRLEVBQUFDLEdBQXNELE1BQUFSLFFBQUFTLFVBQUFDLGVBQUFqQixLQUFBYyxFQUFBQyxJQUd0RHBCLEVBQUF1QixFQUFBLEdBR0F2QixJQUFBd0IsRUFBQSxLRGdCTSxTQUFVaEMsRUFBUUQsR0U3RXhCQyxFQUFBRCxRQUFBTyxHRm1GTSxTQUFVTixFQUFRRCxFQUFTUyxHR25GakMsR0FBQXlCLEdBQUF6QixFQUFBLEVBRUFSLEdBQUFELFNBQUFrQyxFQUFBLFNBQUFBLEdBQUFDLFVBQWlFQyxFQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ2pFLEdBQUFDLEVBRUEsc2RBQzRQLE9BQTVQQSxFQUFBTCxFQUFBTSxLQUFBL0IsS0FBQSxNQUFBd0IsSUFBQUQsRUFBQVMsZ0JBQXlGLE1BQUFSLElBQUFTLFFBQUFULEdBQThDcEIsS0FBQSxPQUFBOEIsUUFBdUJDLEdBQUFaLEVBQUFhLFFBQUEsRUFBQVQsRUFBQSxFQUFBQyxFQUFBQyxHQUFBUSxRQUFBZCxFQUFBZSxLQUFBWCxVQUE4RkcsRUFBQSxJQUM1UCwyQ0FDQ1MsRUFBQSxTQUFBaEIsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FDRCxHQUFBQyxHQUFBVSxFQUFBQyxFQUFBLE1BQUFqQixJQUFBRCxFQUFBUyxlQUVBLG9FQUNBVCxFQUFBbUIsa0JBQUFGLEVBQUEsT0FBQUEsRUFBQWYsRUFBQWtCLEtBQUEsTUFBQW5CLElBQUFtQixHQUFBbkIsSUFBQWdCLEVBQUFmLEVBQUFtQixjQUFBLGtCQUFBSixLQUFBeEMsS0FBQXlDLEdBQXlNckMsS0FBQSxLQUFBOEIsUUFBcUJQLFNBQWFhLElBQzNPLHVHQUMrTSxPQUEvTVYsRUFBQUwsRUFBQU0sS0FBQS9CLEtBQUF5QyxFQUFBLE1BQUFqQixJQUFBcUIsWUFBQXJCLEdBQTBGcEIsS0FBQSxPQUFBOEIsUUFBdUJDLEdBQUFaLEVBQUFhLFFBQUEsRUFBQVQsRUFBQSxFQUFBQyxFQUFBQyxHQUFBUSxRQUFBZCxFQUFBZSxLQUFBWCxVQUE4RkcsRUFBQSxJQUMvTSwyRUFDQ2dCLEVBQUEsU0FBQXZCLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0QsR0FBQVksR0FBQWxCLEVBQUF3QixPQUFBQyxFQUFBekIsRUFBQW1CLGdCQUVBLDBGQUNBTSxFQUFBUCxFQUFBLE1BQUFaLEVBQUEsR0FBQUEsRUFBQSxHQUFBYyxHQUFBZCxFQUFBLEdBQUFMLElBQ0EsSUFDQXdCLEVBQUFQLEVBQUEsTUFBQWpCLElBQUF5QixNQUFBekIsTUFDQSxtQ0FDQXdCLEVBQUFQLEVBQUEsTUFBQWpCLElBQUF5QixNQUFBekIsTUFDQSxvR0FDQzBCLFVBQUEsY0FBQUMsS0FBQSxTQUFBNUIsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FDRCxHQUFBQyxFQUVBLE9BQTRTLFFBQTVTQSxFQUFBTCxFQUFBLEdBQUF6QixLQUFBLE1BQUF3QixJQUFBRCxFQUFBUyxnQkFBNkYsT0FBQUYsRUFBQSxNQUFBTixJQUFBUyxRQUFBVCxHQUFBTSxFQUFBc0IsT0FBQXRCLEdBQTRGMUIsS0FBQSxLQUFBOEIsUUFBcUJDLEdBQUFaLEVBQUFhLFFBQUEsRUFBQVQsRUFBQSxFQUFBQyxFQUFBQyxHQUFBUSxRQUFBZCxFQUFBZSxLQUFBWCxVQUE4RkcsRUFBQSxJQUMzU3VCLFNBQUEsRUFBQUMsV0FBQSxLSHlGSyxTQUFVbkUsRUFBUUQsRUFBU1MsR0l0SGpDLFFBQUE0RCxHQUFBQyxHQUF5QixNQUFBQSxPQUFBM0MsV0FBQTJDLEVBQUEsUUFBQUEsR0FEekIsR0FBQXBDLEdBQUF6QixFQUFBLEVBRUFSLEdBQUFELFNBQUFrQyxFQUFBLFNBQUFBLEdBQUFDLFVBQWlFQyxFQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ2pFLEdBQUFDLEVBRUEsdU9BQ0FQLEVBQUFtQixpQkFBQW5CLEVBQUF3QixPQUFBLE1BQUF2QixJQUFBcEIsS0FBQW9CLE1BQ0EsK0tBQ2dRLE9BQWhRTSxFQUFBTCxFQUFBTSxLQUFBL0IsS0FBQSxNQUFBd0IsSUFBQUQsRUFBQVMsZ0JBQXlGLE1BQUFSLElBQUFxQixZQUFBckIsR0FBa0RwQixLQUFBLE9BQUE4QixRQUF1QkMsR0FBQVosRUFBQWEsUUFBQSxFQUFBVCxFQUFBLEVBQUFDLEVBQUFDLEdBQUFRLFFBQUFkLEVBQUFlLEtBQUFYLFVBQThGRyxFQUFBLElBQ2hRLDRGQUNDUyxFQUFBLFNBQUFoQixFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNELEdBQUFZLEdBQUFsQixFQUFBd0IsT0FBQUMsRUFBQXpCLEVBQUFtQixpQkFBQWUsRUFBQSxNQUFBakMsSUFBQUQsRUFBQVMsZUFFQSxvSEFDQWdCLEVBQUFQLEVBQUEsTUFBQWpCLElBQUF5QixNQUFBekIsTUFDQSxJQUNBd0IsRUFBQVAsRUFBQWQsS0FBQStCLE1BQUFsQyxJQUNBLEtBQ0F3QixFQUFBTyxFQUFBNUQsRUFBQSxJQUFBSyxLQUFBeUQsRUFBQSxNQUFBakMsSUFBQW1DLFNBQUFuQyxHQUFxTHBCLEtBQUEsVUFBQThCLFFBQTBCUCxVQUMvTSxJQUNBcUIsRUFBQU8sRUFBQTVELEVBQUEsSUFBQUssS0FBQXlELEVBQUEsTUFBQWpDLElBQUFvQyxTQUFBcEMsR0FBc0xwQixLQUFBLFdBQUE4QixRQUEyQlAsVUFDak4sdURBQ0FxQixFQUFBUCxFQUFBLE1BQUFaLEVBQUEsR0FBQUEsRUFBQSxHQUFBYyxHQUFBZCxFQUFBLEdBQUFMLElBQ0EsSUFDQXdCLEVBQUFQLEVBQUEsTUFBQWpCLElBQUF5QixNQUFBekIsTUFDQSxpSEFDQXdCLEVBQUFQLEVBQUEsTUFBQWpCLElBQUF5QixNQUFBekIsTUFDQSxJQUNBd0IsRUFBQVAsRUFBQWQsS0FBQStCLE1BQUFsQyxJQUNBLEtBQ0F3QixFQUFBUCxFQUFBLE1BQUFqQixJQUFBeUIsTUFBQXpCLE1BQ0EsS0FDQXdCLEVBQUFQLEVBQUEsTUFBQWpCLElBQUFxQyxNQUFBckMsTUFDQSwrQ0FDQzBCLFVBQUEsY0FBQUMsS0FBQSxTQUFBNUIsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FDRCxHQUFBQyxFQUVBLHlsQkFDMlAsT0FBM1BBLEVBQUFMLEVBQUFNLEtBQUEvQixLQUFBLE1BQUF3QixJQUFBRCxFQUFBUyxnQkFBeUYsTUFBQVIsSUFBQXNDLE9BQUF0QyxHQUE2Q3BCLEtBQUEsT0FBQThCLFFBQXVCQyxHQUFBWixFQUFBYSxRQUFBLEVBQUFULEVBQUEsRUFBQUMsRUFBQUMsR0FBQVEsUUFBQWQsRUFBQWUsS0FBQVgsVUFBOEZHLEVBQUEsSUFDM1Asc0JBQ0N1QixTQUFBLEVBQUFDLFdBQUEsS0o2SEssU0FBVW5FLEVBQVFELEVBQVNTLEdBRWpDLFlBRUFZLFFBQU9DLGVBQWV0QixFQUFTLGNBQWdCNkUsT0FBTyxHS3pLdEQsSUFBQUMsR0FBQXJFLEVBQUEsR0FDQXNFLEVBQUF0RSxFQUFBLEdBSUF1RSxFQUFBdkUsRUFBQSxHQUVBd0UsRUFBQXhFLEVBQUEsSUFHQXlFLEVBQUEsV0FNSSxRQUFBQSxHQUFZQyxHQUFaLEdBQUFDLEdBQUE5RSxJQURRQSxNQUFBK0UsZ0JBV0QvRSxLQUFBZ0YsV0FBYSxXQUNoQkMsT0FBT0gsRUFBS0ksWUFBWUMsUUFBUUMsa0JBQWtCQyxLQUFLLGlCQUFpQkMsU0FBUyxXQUU5RXRGLEtBQUF1RixXQUFhLFdBQ2hCTixPQUFPSCxFQUFLSSxZQUFZQyxRQUFRQyxrQkFBa0JDLEtBQUssaUJBQWlCRyxPQUFPLFdBRTVFeEYsS0FBQXlGLGVBQWtCLFNBQUNuQixHQUN0QixHQUFLUSxFQUFLWSxhQUVILENBQ0gsR0FBTUMsR0FBaUJiLEVBQUtjLGdCQUFnQkgsZUFBZW5CLEVBQzNEUSxHQUFLZSxjQUFjUixLQUFLLGVBQWVTLEtBQUtILE9BSDVDLENBQWtCYixFQUFLYyxnQkFBZ0JHLEtBQUt6QixRQUs3Q3RFLEtBQUFnRyx1QkFBMEIsU0FBQ3ZELEdBQzlCLEdBQUtxQyxFQUFLWSxhQUVILENBQ0gsR0FBTUMsR0FBaUJiLEVBQUtjLGdCQUFnQkksdUJBQXVCdkQsRUFDbkVxQyxHQUFLZSxjQUFjUixLQUFLLG9CQUFvQlMsS0FBS0gsT0FIakQsQ0FBa0JiLEVBQUtjLGdCQUFnQkcsUUFBU3RELEtBTWpEekMsS0FBQStGLEtBQVEsU0FBQ3pCLEVBQWtCN0IsR0FDOUJxQyxFQUFLZSxjQUFjQyxLQUFLaEIsRUFBS2MsZ0JBQWdCRyxLQUFLekIsRUFBUTdCLElBQzFEcUMsRUFBS1ksY0FBZSxHQWhDcEIxRixLQUFLa0YsWUFBZSxHQUFJUCxHQUFBc0IsWUFBWXBCLEdBQ3BDN0UsS0FBSzZGLGNBQWdCWixPQUFPSixFQUFRTyxrQkFDcENwRixLQUFLNEYsZ0JBQWtCLEdBQUlsQixHQUFBd0IscUJBQzNCbEcsS0FBSytFLGFBQWFvQixLQUFLLEdBQUkzQixHQUFBNEIsc0JBQXNCcEcsS0FBSzZGLGNBQWU3RixLQUFLa0YsY0FDMUVsRixLQUFLK0UsYUFBYW9CLEtBQUssR0FBSTFCLEdBQUE0QixvQkFBb0JyRyxLQUFLNkYsY0FBZTdGLEtBQUtrRixjQUN4RWxGLEtBQUsrRSxhQUFhdUIsUUFBUSxTQUFDQyxHQUN2QkEsRUFBUUMsdUJBNEJwQixNQUFBNUIsS0F6Q2FsRixHQUFBa0YsU0xvTlAsU0FBVWpGLEVBQVFELEVBQVNTLEdBRWpDLFlBRUFZLFFBQU9DLGVBQWV0QixFQUFTLGNBQWdCNkUsT0FBTyxHTS9OdEQsSUFBS2tDLElBQUwsU0FBS0EsR0FDREEsSUFBQSxlQUNBQSxJQUFBLGVBQ0FBLElBQUEsb0JBSENBLFVBTUwsSUFBQUwsR0FBQSxXQUNJLFFBQUFBLEdBQW9CTSxFQUF5QnhCLEdBQXpCbEYsS0FBQTBHLFVBQXlCMUcsS0FBQWtGLGNBcUNyQ2xGLEtBQUEyRywwQkFBNEIsU0FBQ0QsRUFBaUJFLEdBQ2xELEdBQU1DLEdBQWNILEVBQVFJLFNBQVMsS0FDL0JDLEVBQW1CRixFQUFZRyxTQUFTLE9BQzFDUCxHQUFTUSxTQUFXTCxJQUFjRyxHQUFvQkgsSUFBYUgsRUFBU1MsT0FDMUVILEdBQW9CSCxJQUFhSCxFQUFTVSxRQUczQ0osR0FLREwsRUFBUVUsUUFBUSxlQUFlL0IsS0FBSywyQkFBMkJnQyxPQUMvRFIsRUFBWVMsWUFBWSxRQUN4QlQsRUFBWXZCLFNBQVMsV0FOckJvQixFQUFRVSxRQUFRLGVBQWUvQixLQUFLLDJCQUEyQmtDLE9BQy9EVixFQUFZUyxZQUFZLFNBQ3hCVCxFQUFZdkIsU0FBUyxXQU9qQyxNQXBEV2MsR0FBQTVFLFVBQUFnRixtQkFBUCxjQUFBMUIsR0FBQTlFLElBQ0lBLE1BQUswRyxRQUFRYyxHQUFHLFFBQVMsMEJBQTJCLFNBQUNDLEdBQ2pEM0MsRUFBSzRCLFFBQVFyQixLQUFLLHNCQUFzQjlDLEtBQUssU0FBQzJCLEVBQU93QyxHQUNqRDVCLEVBQUs2QiwwQkFBMEIxQixPQUFPeUIsR0FBVUQsRUFBU1MsUUFNN0RPLEVBQU1DLG9CQUVWMUgsS0FBSzBHLFFBQVFjLEdBQUcsUUFBUyw0QkFBNkIsU0FBQ0MsR0FDbkQzQyxFQUFLNEIsUUFBUXJCLEtBQUssc0JBQXNCOUMsS0FBSyxTQUFDMkIsRUFBT3dDLEdBQ2pENUIsRUFBSzZCLDBCQUEwQjFCLE9BQU95QixHQUFVRCxFQUFTVSxRQU83RE0sRUFBTUMsb0JBRVYxSCxLQUFLMEcsUUFBUWMsR0FBRyxRQUFTLDZDQUE4QyxTQUFDQyxHQUNwRSxHQUFNRSxHQUFnQjFDLE9BQU93QyxFQUFNRyxRQUFRUixRQUFRLHFCQUNuRHRDLEdBQUs0QixRQUFRckIsS0FBSyx5QkFBeUJ3QyxXQUFXLFlBQ3REL0MsRUFBSzZCLDBCQUEwQmdCLEVBQWVsQixFQUFTUSxRQUN2RFEsRUFBTUMscUJBR1B0QixFQUFBNUUsVUFBQXNHLFNBQVAsYUFHTzFCLEVBQUE1RSxVQUFBdUcsZ0JBQVAsU0FBdUJOLEtBb0IzQnJCLElBdkRhMUcsR0FBQTBHLHlCTmtTUCxTQUFVekcsRUFBUUQsRUFBU1MsR0FFakMsWUFFQVksUUFBT0MsZUFBZXRCLEVBQVMsY0FBZ0I2RSxPQUFPLEdPOVN0RCxJQUFBeUQsR0FBQTdILEVBQUEsR0FHQWtHLEVBQUEsV0FFSSxRQUFBQSxHQUFvQkssRUFBeUJ4QixHQUF6QmxGLEtBQUEwRyxVQUF5QjFHLEtBQUFrRixjQW1EakQsTUFqRFdtQixHQUFBN0UsVUFBQWdGLG1CQUFQLGNBQUExQixHQUFBOUUsSUFDSUEsTUFBSzBHLFFBQVFjLEdBQUcsU0FBVSw0REFBNkQsU0FBQ0MsR0FDcEYsR0FBTWYsR0FBVXpCLE9BQU93QyxFQUFNRyxRQUN2QkssRUFBU3ZCLEVBQVF3QixNQUFNQyxXQUN2QjVELEVBQVEwRCxFQUFPRyxNQUFNLEtBQ3JCQyxFQUFVM0IsRUFBUTRCLEdBQUcsWUFDckJDLEVBQVNGLEVBQVVMLEVBQUFRLGlCQUFpQkMsSUFBTVQsRUFBQVEsaUJBQWlCRSxLQUNqRTVELEdBQUtJLFlBQVlDLFFBQVF3RCxlQUFlcEUsRUFBTSxHQUFJQSxFQUFNLEdBQUlnRSxLQVVoRXZJLEtBQUswRyxRQUFRYyxHQUFHLFFBQVMsd0NBQXlDLFNBQUNDLEdBQy9ELEdBQUlmLEdBQVV6QixPQUFPd0MsRUFBTUcsT0FDdEJsQixHQUFRNEIsR0FBRyxZQUNaNUIsRUFBVUEsRUFBUVUsUUFBUSxVQUU5QixJQUFNYSxHQUFTdkIsRUFBUWtDLEtBQUsscUJBQXFCVCxXQUMzQzVELEVBQVEwRCxFQUFPRyxNQUFNLElBQzNCdEQsR0FBS0ksWUFBWUMsUUFBUXdELGVBQWVwRSxFQUFNLEdBQUlBLEVBQU0sR0FBSXlELEVBQUFRLGlCQUFpQkUsU0FhakYxSSxLQUFLMEcsUUFBUWMsR0FBRyxRQUFTLCtCQUFnQyxTQUFDQyxHQUN0RDNDLEVBQUs0QixRQUFRckIsS0FBSyxvQkFBb0JnQyxPQUN0Q3ZDLEVBQUtJLFlBQVlDLFFBQVEwRCx1QkFHMUJ4QyxFQUFBN0UsVUFBQXNHLFNBQVAsYUFHT3pCLEVBQUE3RSxVQUFBdUcsZ0JBQVAsU0FBdUJOLEtBSTNCcEIsSUFyRGEzRyxHQUFBMkcsdUJQMFdQLFNBQVUxRyxFQUFRRCxFQUFTUyxHQUVqQyxZQUVBWSxRQUFPQyxlQUFldEIsRUFBUyxjQUFnQjZFLE9BQU8sS1FsWHRELFNBQVlpRSxHQUNSQSxFQUFBLFVBQ0FBLEVBQUEsZUFGUTlJLEVBQUE4SSxtQkFBQTlJLEVBQUE4SSx1QlI0WE4sU0FBVTdJLEVBQVFELEVBQVNTLEdBRWpDLFlBRUFZLFFBQU9DLGVBQWV0QixFQUFTLGNBQWdCNkUsT0FBTyxHUzlYdEQsSUFBQXVFLEdBQUEzSSxFQUFBLEdBQ0E0SSxFQUFBNUksRUFBQSxHQUNBNkksRUFBQTdJLEVBQUEsSUFHQStGLEVBQUEsV0FNSSxRQUFBQSxLQUNJbEcsS0FBS2lKLDRCQUE4QkQsRUFDbkNoSixLQUFLa0osaUNBQW1DSixFQUN4QzlJLEtBQUttSiw0QkFBOEJKLEVBYTNDLE1BWFc3QyxHQUFBMUUsVUFBQXVFLEtBQVAsU0FBWXpCLEVBQWtCN0IsR0FDMUIsTUFBT3pDLE1BQUtpSiw2QkFBNkIzRSxPQUFNQSxFQUFFN0IsUUFBT0EsS0FHckR5RCxFQUFBMUUsVUFBQWlFLGVBQVAsU0FBc0JuQixHQUNsQixNQUFPdEUsTUFBS21KLDZCQUE2QjdFLE9BQU1BLEtBRzVDNEIsRUFBQTFFLFVBQUF3RSx1QkFBUCxTQUE4QnZELEdBQzFCLE1BQU96QyxNQUFLa0osa0NBQWtDekcsUUFBT0EsS0FFN0R5RCxJQXRCYXhHLEdBQUF3Ryx3QlRtWlAsU0FBVXZHLEVBQVFELEVBQVNTLEdBRWpDLFlBRUFZLFFBQU9DLGVBQWV0QixFQUFTLGNBQWdCNkUsT0FBTyxHVTladEQsSUFBTThELEdBQVUsU0FBQ2UsR0FDYixNQUFPQSxHQUFPLFVBQVksR0FHOUIxSixHQUFBMkosUUFBZWhCLEdWbWFULFNBQVUxSSxFQUFRRCxFQUFTUyxHQUVqQyxZQUVBWSxRQUFPQyxlQUFldEIsRUFBUyxjQUFnQjZFLE9BQU8sR1czYXRELElBQU1ILEdBQVcsU0FBQ2dGLEdBQ2QsTUFBT0EsR0FBTyxXQUFhLEdBRy9CMUosR0FBQTJKLFFBQWVqRixHWGdiVCxTQUFVekUsRUFBUUQsRUFBU1MsR1lwYmpDLEdBQUF5QixHQUFBekIsRUFBQSxFQUVBUixHQUFBRCxTQUFBa0MsRUFBQSxTQUFBQSxHQUFBQyxVQUFpRTZCLFVBQUEsY0FBQUMsS0FBQSxTQUFBNUIsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FDakUsR0FBQUcsRUFFQSxxV0FDNFAsT0FBNVBBLEVBQUFQLEVBQUF1SCxjQUFBbkosRUFBQSxJQUFBNkIsR0FBa0pwQixLQUFBLGVBQUF1QixPQUFBRixVQUFBQyxXQUFBcUgsV0FBQXhILEVBQUF3SCxjQUEwR2pILEVBQUEsSUFDNVAsNkNBQzhRLE9BQTlRQSxFQUFBUCxFQUFBdUgsY0FBQW5KLEVBQUEsR0FBQTZCLEdBQTJKcEIsS0FBQSx3QkFBQXVCLE9BQUFGLFVBQUFDLFdBQUFxSCxXQUFBeEgsRUFBQXdILGNBQW1IakgsRUFBQSxJQUM5USw2RUFDd1AsT0FBeFBBLEVBQUFQLEVBQUF1SCxjQUFBbkosRUFBQSxHQUFBNkIsR0FBZ0pwQixLQUFBLGFBQUF1QixPQUFBRixVQUFBQyxXQUFBcUgsV0FBQXhILEVBQUF3SCxjQUF3R2pILEVBQUEsSUFDeFAsa0JBQ0NrSCxZQUFBLEVBQUEzRixTQUFBLEtaMGJLLFNBQVVsRSxFQUFRRCxFQUFTUyxHYXRjakMsR0FBQXlCLEdBQUF6QixFQUFBLEVBRUFSLEdBQUFELFNBQUFrQyxFQUFBLFNBQUFBLEdBQUFDLFVBQWlFNkIsVUFBQSxjQUFBQyxLQUFBLFNBQUE1QixFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNqRSw4U0FDQzBCLFNBQUEsS2I0Y0ssU0FBVWxFLEVBQVFELEVBQVNTLEdBRWpDLFlBRUFZLFFBQU9DLGVBQWV0QixFQUFTLGNBQWdCNkUsT0FBTyxHY2xkdEQsSUFBQTBCLEdBQUEsV0FFSSxRQUFBQSxHQUFZcEIsR0FDUjdFLEtBQUs2RSxRQUFVQSxFQUt2QixNQUhJOUQsUUFBQUMsZUFBV2lGLEVBQUF6RSxVQUFBLFdkbWRQTCxJY25kSixXQUNJLE1BQU9uQixNQUFLNkUsU2RxZFozRCxZQUFZLEVBQ1pELGNBQWMsSWNwZHRCZ0YsSUFSYXZHLEdBQUF1RyIsImZpbGUiOiJmYWNldG9vLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXHJvdXN0dXJnXFxcXHNvdXJjZVxcXFxyZXBvc1xcXFxTZWFyY2hNYXN0ZXJcXFxcRmFjZXRvb1xcXFxub2RlX21vZHVsZXNcXFxcaGFuZGxlYmFyc1xcXFxydW50aW1lLmpzXCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcIkM6XFxcXFVzZXJzXFxcXHJvdXN0dXJnXFxcXHNvdXJjZVxcXFxyZXBvc1xcXFxTZWFyY2hNYXN0ZXJcXFxcRmFjZXRvb1xcXFxub2RlX21vZHVsZXNcXFxcaGFuZGxlYmFyc1xcXFxydW50aW1lLmpzXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkZhY2V0b29cIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJDOlxcXFxVc2Vyc1xcXFxyb3VzdHVyZ1xcXFxzb3VyY2VcXFxccmVwb3NcXFxcU2VhcmNoTWFzdGVyXFxcXEZhY2V0b29cXFxcbm9kZV9tb2R1bGVzXFxcXGhhbmRsZWJhcnNcXFxccnVudGltZS5qc1wiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wiRmFjZXRvb1wiXSA9IGZhY3Rvcnkocm9vdFtcIkM6XFxcXFVzZXJzXFxcXHJvdXN0dXJnXFxcXHNvdXJjZVxcXFxyZXBvc1xcXFxTZWFyY2hNYXN0ZXJcXFxcRmFjZXRvb1xcXFxub2RlX21vZHVsZXNcXFxcaGFuZGxlYmFyc1xcXFxydW50aW1lLmpzXCJdKTtcbn0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzBfXykge1xucmV0dXJuIFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJDOlxcXFxVc2Vyc1xcXFxyb3VzdHVyZ1xcXFxzb3VyY2VcXFxccmVwb3NcXFxcU2VhcmNoTWFzdGVyXFxcXEZhY2V0b29cXFxcbm9kZV9tb2R1bGVzXFxcXGhhbmRsZWJhcnNcXFxccnVudGltZS5qc1wiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJDOlxcXFxVc2Vyc1xcXFxyb3VzdHVyZ1xcXFxzb3VyY2VcXFxccmVwb3NcXFxcU2VhcmNoTWFzdGVyXFxcXEZhY2V0b29cXFxcbm9kZV9tb2R1bGVzXFxcXGhhbmRsZWJhcnNcXFxccnVudGltZS5qc1wiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJGYWNldG9vXCJdID0gZmFjdG9yeShyZXF1aXJlKFwiQzpcXFxcVXNlcnNcXFxccm91c3R1cmdcXFxcc291cmNlXFxcXHJlcG9zXFxcXFNlYXJjaE1hc3RlclxcXFxGYWNldG9vXFxcXG5vZGVfbW9kdWxlc1xcXFxoYW5kbGViYXJzXFxcXHJ1bnRpbWUuanNcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkZhY2V0b29cIl0gPSBmYWN0b3J5KHJvb3RbXCJDOlxcXFxVc2Vyc1xcXFxyb3VzdHVyZ1xcXFxzb3VyY2VcXFxccmVwb3NcXFxcU2VhcmNoTWFzdGVyXFxcXEZhY2V0b29cXFxcbm9kZV9tb2R1bGVzXFxcXGhhbmRsZWJhcnNcXFxccnVudGltZS5qc1wiXSk7XG59KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8wX18pIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4vKioqKioqLyBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4vKioqKioqLyBcdFx0XHRcdGdldDogZ2V0dGVyXG4vKioqKioqLyBcdFx0XHR9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMyk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8wX187XG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgSGFuZGxlYmFycyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5mdW5jdGlvbiBfX2RlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgKG9iai5fX2VzTW9kdWxlID8gb2JqW1wiZGVmYXVsdFwiXSA6IG9iaik7IH1cbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbXCJkZWZhdWx0XCJdIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSxibG9ja1BhcmFtcyxkZXB0aHMpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcImNvbnRlbnRcXFwiPlxcbiAgICA8aDUgY2xhc3M9XFxcImd1aSBzdWIgYmx1ZSBmbG9hdGVkIGxlZnQgaGVhZGVyXFxcIj5BcHBsaWVkIEZpbHRlcnM8L2g1PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJndWkgbWluaSByaWdodCBmbG9hdGVkIGJ1dHRvbnNcXFwiPlxcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiZ3VpIG1pbmkgaWNvbiBidXR0b24gcmVtb3ZlLWFsbFxcXCI+XFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImljb24gaWNvbi1jbG9zZVxcXCI+PC9pPlxcbiAgICAgICAgPC9idXR0b24+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJndWkgdGlueSBoaWRkZW4gY2xlYXJpbmcgZGl2aWRlclxcXCI+PC9kaXY+XFxuICAgIDx0YWJsZSBjbGFzcz1cXFwiZ3VpIHZlcnkgY29tcGFjdCBzbWFsbCBjb2xsYXBzaW5nIGJvcmRlci1sZXNzIHRhYmxlXFxcIiBzdHlsZT1cXFwiYm9yZGVyOiBub25lOztjbGVhcjpib3RoO1xcXCI+XFxuICAgICAgICA8dGJvZD5cXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5maWx0ZXJzIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDIsIGRhdGEsIDAsIGJsb2NrUGFyYW1zLCBkZXB0aHMpLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgPC90Ym9kPlxcbiAgICA8L3RhYmxlPlxcbjwvZGl2PlxcblwiO1xufSxcIjJcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSxibG9ja1BhcmFtcyxkZXB0aHMpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pO1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgIDx0ciBjbGFzcz1cXFwidG9wIGFsaWduZWRcXFwiPlxcbiAgICAgICAgICAgICAgICA8dGQ+XCJcbiAgICArIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuaWQgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlkIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlcnMuaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IFwiZnVuY3Rpb25cIiA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJpZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCI8L3RkPlxcbiAgICAgICAgICAgICAgICA8dGQ+XFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiZ3VpIG1pbmkgYmx1ZSBsYWJlbHMgZmFjZXQtbGFiZWxzXFxcIj5cXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmZhY2V0VmFsdWVzIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDMsIGRhdGEsIDAsIGJsb2NrUGFyYW1zLCBkZXB0aHMpLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8L3RkPlxcbiAgICAgICAgICAgIDwvdHI+XFxuXCI7XG59LFwiM1wiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhLGJsb2NrUGFyYW1zLGRlcHRocykge1xuICAgIHZhciBhbGlhczE9Y29udGFpbmVyLmxhbWJkYSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJndWkgbGFiZWwgcmVtb3ZlLWxhYmVsXFxcIiBkYXRhLWZpbHRlci1lbnRyeT1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoc1sxXSAhPSBudWxsID8gZGVwdGhzWzFdLmlkIDogZGVwdGhzWzFdKSwgZGVwdGgwKSlcbiAgICArIFwiOlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5sYWJlbCA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5sYWJlbCA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbiBpY29uLWNsb3NlXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxcblwiO1xufSxcImNvbXBpbGVyXCI6WzcsXCI+PSA0LjAuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSxibG9ja1BhcmFtcyxkZXB0aHMpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiAoKHN0YWNrMSA9IGhlbHBlcnNbXCJpZlwiXS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZmlsdGVycyA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEubGVuZ3RoIDogc3RhY2sxKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxLCBkYXRhLCAwLCBibG9ja1BhcmFtcywgZGVwdGhzKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKTtcbn0sXCJ1c2VEYXRhXCI6dHJ1ZSxcInVzZURlcHRoc1wiOnRydWV9KTtcblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBIYW5kbGViYXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbmZ1bmN0aW9uIF9fZGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiAob2JqLl9fZXNNb2R1bGUgPyBvYmpbXCJkZWZhdWx0XCJdIDogb2JqKTsgfVxubW9kdWxlLmV4cG9ydHMgPSAoSGFuZGxlYmFyc1tcImRlZmF1bHRcIl0gfHwgSGFuZGxlYmFycykudGVtcGxhdGUoe1wiMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhLGJsb2NrUGFyYW1zLGRlcHRocykge1xuICAgIHZhciBzdGFjazE7XG5cbiAgcmV0dXJuIFwiICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpdGVtIGZhY2V0LWl0ZW1cXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbnRlbnRcXFwiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmYWNldC1pdGVtLWhlYWRlciBjdXJzb3ItcG9pbnRlclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwicmlnaHQgdHJpYW5nbGUgaWNvblxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+XCJcbiAgICArIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKGNvbnRhaW5lci5sYW1iZGEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCI8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJkZXNjcmlwdGlvbiBmYWNldC1pdGVtLWRlc2NyaXB0aW9uXFxcIiBzdHlsZT1cXFwiZGlzcGxheTpub25lO1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJndWkgc21hbGwgbGlzdFxcXCI+XFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZmFjZXRWYWx1ZXMgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMiwgZGF0YSwgMCwgYmxvY2tQYXJhbXMsIGRlcHRocyksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG5cIjtcbn0sXCIyXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEsYmxvY2tQYXJhbXMsZGVwdGhzKSB7XG4gICAgdmFyIGFsaWFzMT1jb250YWluZXIubGFtYmRhLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24sIGFsaWFzMz1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pO1xuXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIml0ZW1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgc3R5bGU9XFxcImhlaWdodDowLjg1ZW07XFxcIiBpZD1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmxhYmVsIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiLVwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkYXRhICYmIGRhdGEuaW5kZXgpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIFwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oOCkpLmNhbGwoYWxpYXMzLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zZWxlY3RlZCA6IGRlcHRoMCkse1wibmFtZVwiOlwiQ2hlY2tlZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiIFwiXG4gICAgKyBhbGlhczIoX19kZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oOSkpLmNhbGwoYWxpYXMzLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5kaXNhYmxlZCA6IGRlcHRoMCkse1wibmFtZVwiOlwiRGlzYWJsZWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIiBjbGFzcz1cXFwiZmFjZXQtdmFsdWUtY2hlY2tib3ggY3Vyc29yLXBvaW50ZXJcXFwiIHZhbHVlPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGhzWzFdICE9IG51bGwgPyBkZXB0aHNbMV0uaWQgOiBkZXB0aHNbMV0pLCBkZXB0aDApKVxuICAgICsgXCI6XCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmxhYmVsIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiB0eXBlPVxcXCJjaGVja2JveFxcXCIvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgc3R5bGU9XFxcImZvbnQtc2l6ZTowLjg1ZW07XFxcIiBjbGFzcz1cXFwiY3Vyc29yLXBvaW50ZXJcXFwiIGZvcj1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmxhYmVsIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiLVwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkYXRhICYmIGRhdGEuaW5kZXgpLCBkZXB0aDApKVxuICAgICsgXCJcXFwiPlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5sYWJlbCA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIiAoXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvdW50IDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiKTwvbGFiZWw+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhLGJsb2NrUGFyYW1zLGRlcHRocykge1xuICAgIHZhciBzdGFjazE7XG5cbiAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwiY29udGVudFxcXCIgc3R5bGU9XFxcImhlaWdodDogMTAwJTtvdmVyZmxvdzpoaWRkZW47XFxcIj5cXG4gICAgPGg1IGNsYXNzPVxcXCJndWkgc3ViIGJsdWUgbGVmdCBmbG9hdGVkIGhlYWRlclxcXCI+U2VsZWN0IEZpbHRlcnM8L2g1PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJndWkgbWluaSByaWdodCBmbG9hdGVkIGJ1dHRvbnNcXFwiPlxcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiZ3VpIG1pbmkgaWNvbiBidXR0b24gZXhwYW5kLWFsbFxcXCI+XFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImljb24gaWNvbi1wbHVzXFxcIj48L2k+XFxuICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgIDxidXR0b24gY2xhc3M9XFxcImd1aSBtaW5pIGljb24gYnV0dG9uIGNvbGxhcHNlLWFsbFxcXCI+XFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImljb24gaWNvbi1taW51c1xcXCI+PC9pPlxcbiAgICAgICAgPC9idXR0b24+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJndWkgdGlueSBoaWRkZW4gY2xlYXJpbmcgZGl2aWRlclxcXCI+PC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcImd1aSBtZWRpdW0gbGlzdCBmYWNldC1saXN0XFxcIiBzdHlsZT1cXFwiaGVpZ2h0OiAxMDAlO292ZXJmbG93OiBhdXRvO2NsZWFyOmJvdGg7XFxcIj5cXG5cIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5mYWNldHMgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCwgYmxvY2tQYXJhbXMsIGRlcHRocyksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgIDwvZGl2PlxcbjwvZGl2PlwiO1xufSxcInVzZURhdGFcIjp0cnVlLFwidXNlRGVwdGhzXCI6dHJ1ZX0pO1xuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgRXhwYW5kQ29sbGFwc2VIYW5kbGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xyXG52YXIgRmlsdGVyQWN0aW9uSGFuZGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcclxudmFyIEZhY2V0VGVtcGxhdGVTZXJ2aWNlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xyXG52YXIgQ29uZmlnU3RvcmVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xyXG52YXIgRmFjZXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBGYWNldChvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLmhhbmRsZXJDaGFpbiA9IFtdO1xyXG4gICAgICAgIHRoaXMuc2hvd0xvYWRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgalF1ZXJ5KF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMuY29udGFpbmVyRWxlbWVudCkuZmluZChcIi5mYWNldC1sb2FkZXJcIikuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmhpZGVMb2FkZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGpRdWVyeShfdGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbnRhaW5lckVsZW1lbnQpLmZpbmQoXCIuZmFjZXQtbG9hZGVyXCIpLnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuQmluZE9ubHlGYWNldHMgPSBmdW5jdGlvbiAoZmFjZXRzKSB7XHJcbiAgICAgICAgICAgIGlmICghX3RoaXMuYmluZEZpbmlzaGVkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZnVsbEZhY2V0ID0gX3RoaXMudGVtcGxhdGVTZXJ2aWNlLkJpbmQoZmFjZXRzLCBbXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmFjZXRTdWJIZWFkZXIgPSBfdGhpcy50ZW1wbGF0ZVNlcnZpY2UuQmluZE9ubHlGYWNldHMoZmFjZXRzKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnBhcmVudEVsZW1lbnQuZmluZChcIi5mYWNldC1ib2R5XCIpLmh0bWwoZmFjZXRTdWJIZWFkZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLkJpbmRPbmx5QXBwbGllZEZpbHRlcnMgPSBmdW5jdGlvbiAoZmlsdGVycykge1xyXG4gICAgICAgICAgICBpZiAoIV90aGlzLmJpbmRGaW5pc2hlZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZ1bGxGYWNldCA9IF90aGlzLnRlbXBsYXRlU2VydmljZS5CaW5kKFtdLCBmaWx0ZXJzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBmYWNldFN1YkhlYWRlciA9IF90aGlzLnRlbXBsYXRlU2VydmljZS5CaW5kT25seUFwcGxpZWRGaWx0ZXJzKGZpbHRlcnMpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucGFyZW50RWxlbWVudC5maW5kKFwiLmZhY2V0LXN1YmhlYWRlclwiKS5odG1sKGZhY2V0U3ViSGVhZGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5CaW5kID0gZnVuY3Rpb24gKGZhY2V0cywgZmlsdGVycykge1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnRFbGVtZW50Lmh0bWwoX3RoaXMudGVtcGxhdGVTZXJ2aWNlLkJpbmQoZmFjZXRzLCBmaWx0ZXJzKSk7XHJcbiAgICAgICAgICAgIF90aGlzLmJpbmRGaW5pc2hlZCA9IHRydWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlID0gbmV3IENvbmZpZ1N0b3JlXzEuQ29uZmlnU3RvcmUob3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0galF1ZXJ5KG9wdGlvbnMuY29udGFpbmVyRWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZVNlcnZpY2UgPSBuZXcgRmFjZXRUZW1wbGF0ZVNlcnZpY2VfMS5GYWNldFRlbXBsYXRlU2VydmljZSgpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlckNoYWluLnB1c2gobmV3IEV4cGFuZENvbGxhcHNlSGFuZGxlcl8xLkV4cGFuZENvbGxhcHNlSGFuZGxlcih0aGlzLnBhcmVudEVsZW1lbnQsIHRoaXMuY29uZmlnU3RvcmUpKTtcclxuICAgICAgICB0aGlzLmhhbmRsZXJDaGFpbi5wdXNoKG5ldyBGaWx0ZXJBY3Rpb25IYW5kbGVyXzEuRmlsdGVyQWN0aW9uSGFuZGxlcih0aGlzLnBhcmVudEVsZW1lbnQsIHRoaXMuY29uZmlnU3RvcmUpKTtcclxuICAgICAgICB0aGlzLmhhbmRsZXJDaGFpbi5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIGhhbmRsZXIuUmVnaXN0ZXJEb21IYW5kbGVyKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gRmFjZXQ7XHJcbn0oKSk7XHJcbmV4cG9ydHMuRmFjZXQgPSBGYWNldDtcclxuXG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBTaG93SGlkZTtcclxuKGZ1bmN0aW9uIChTaG93SGlkZSkge1xyXG4gICAgU2hvd0hpZGVbU2hvd0hpZGVbXCJTaG93XCJdID0gMF0gPSBcIlNob3dcIjtcclxuICAgIFNob3dIaWRlW1Nob3dIaWRlW1wiSGlkZVwiXSA9IDFdID0gXCJIaWRlXCI7XHJcbiAgICBTaG93SGlkZVtTaG93SGlkZVtcIlRvZ2dsZVwiXSA9IDJdID0gXCJUb2dnbGVcIjtcclxufSkoU2hvd0hpZGUgfHwgKFNob3dIaWRlID0ge30pKTtcclxudmFyIEV4cGFuZENvbGxhcHNlSGFuZGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEV4cGFuZENvbGxhcHNlSGFuZGxlcihlbGVtZW50LCBjb25maWdTdG9yZSkge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IGNvbmZpZ1N0b3JlO1xyXG4gICAgICAgIHRoaXMuQ29udHJvbFZpc2liaWxpdHlPZkZpbHRlciA9IGZ1bmN0aW9uIChlbGVtZW50LCBzaG93SGlkZSkge1xyXG4gICAgICAgICAgICB2YXIgaWNvbkVsZW1lbnQgPSBlbGVtZW50LmNoaWxkcmVuKFwiaVwiKTtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRseVZpc2libGUgPSBpY29uRWxlbWVudC5oYXNDbGFzcyhcImRvd25cIik7XHJcbiAgICAgICAgICAgIGlmIChTaG93SGlkZS5Ub2dnbGUgIT09IHNob3dIaWRlICYmICgoY3VycmVudGx5VmlzaWJsZSAmJiBzaG93SGlkZSA9PT0gU2hvd0hpZGUuU2hvdykgfHxcclxuICAgICAgICAgICAgICAgICghY3VycmVudGx5VmlzaWJsZSAmJiBzaG93SGlkZSA9PT0gU2hvd0hpZGUuSGlkZSkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFjdXJyZW50bHlWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnBhcmVudHMoXCIuZmFjZXQtaXRlbVwiKS5maW5kKFwiLmZhY2V0LWl0ZW0tZGVzY3JpcHRpb25cIikuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgaWNvbkVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJyaWdodFwiKTtcclxuICAgICAgICAgICAgICAgIGljb25FbGVtZW50LmFkZENsYXNzKFwiZG93blwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQucGFyZW50cyhcIi5mYWNldC1pdGVtXCIpLmZpbmQoXCIuZmFjZXQtaXRlbS1kZXNjcmlwdGlvblwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICBpY29uRWxlbWVudC5yZW1vdmVDbGFzcyhcImRvd25cIik7XHJcbiAgICAgICAgICAgICAgICBpY29uRWxlbWVudC5hZGRDbGFzcyhcInJpZ2h0XCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIEV4cGFuZENvbGxhcHNlSGFuZGxlci5wcm90b3R5cGUuUmVnaXN0ZXJEb21IYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIuZmFjZXQtYm9keSAuZXhwYW5kLWFsbFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgX3RoaXMuZWxlbWVudC5maW5kKFwiLmZhY2V0LWl0ZW0taGVhZGVyXCIpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5Db250cm9sVmlzaWJpbGl0eU9mRmlsdGVyKGpRdWVyeShlbGVtZW50KSwgU2hvd0hpZGUuU2hvdyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBqUXVlcnkoZXZlbnQudGFyZ2V0KS5wYXJlbnRzKFwiYnV0dG9uXCIpXHJcbiAgICAgICAgICAgIC8vIC5hdHRyKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpXHJcbiAgICAgICAgICAgIC8vIC5zaWJsaW5ncyhcImJ1dHRvblwiKVxyXG4gICAgICAgICAgICAvLyAucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQub24oXCJjbGlja1wiLCBcIi5mYWNldC1ib2R5IC5jb2xsYXBzZS1hbGxcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIF90aGlzLmVsZW1lbnQuZmluZChcIi5mYWNldC1pdGVtLWhlYWRlclwiKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuQ29udHJvbFZpc2liaWxpdHlPZkZpbHRlcihqUXVlcnkoZWxlbWVudCksIFNob3dIaWRlLkhpZGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8galF1ZXJ5KGV2ZW50LnRhcmdldClcclxuICAgICAgICAgICAgLy8gLnBhcmVudHMoXCJidXR0b25cIilcclxuICAgICAgICAgICAgLy8gLmF0dHIoXCJkaXNhYmxlZFwiLCBcInRydWVcIilcclxuICAgICAgICAgICAgLy8gLnNpYmxpbmdzKFwiYnV0dG9uXCIpXHJcbiAgICAgICAgICAgIC8vIC5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5vbihcImNsaWNrXCIsIFwiLmZhY2V0LWJvZHkgLmZhY2V0LWl0ZW0gLmZhY2V0LWl0ZW0taGVhZGVyXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICB2YXIgaGVhZGVyRWxlbWVudCA9IGpRdWVyeShldmVudC50YXJnZXQpLnBhcmVudHMoXCIuZmFjZXQtaXRlbS1oZWFkZXJcIik7XHJcbiAgICAgICAgICAgIF90aGlzLmVsZW1lbnQuZmluZChcIi5mYWNldC1oZWFkZXIgLmJ1dHRvblwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgIF90aGlzLkNvbnRyb2xWaXNpYmlsaXR5T2ZGaWx0ZXIoaGVhZGVyRWxlbWVudCwgU2hvd0hpZGUuVG9nZ2xlKTtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgRXhwYW5kQ29sbGFwc2VIYW5kbGVyLnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH07XHJcbiAgICBFeHBhbmRDb2xsYXBzZUhhbmRsZXIucHJvdG90eXBlLm9uRG9jdW1lbnRDbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBFeHBhbmRDb2xsYXBzZUhhbmRsZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuRXhwYW5kQ29sbGFwc2VIYW5kbGVyID0gRXhwYW5kQ29sbGFwc2VIYW5kbGVyO1xyXG5cblxuLyoqKi8gfSksXG4vKiA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIEZpbHRlckFjdGlvblR5cGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XHJcbnZhciBGaWx0ZXJBY3Rpb25IYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRmlsdGVyQWN0aW9uSGFuZGxlcihlbGVtZW50LCBjb25maWdTdG9yZSkge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5jb25maWdTdG9yZSA9IGNvbmZpZ1N0b3JlO1xyXG4gICAgfVxyXG4gICAgRmlsdGVyQWN0aW9uSGFuZGxlci5wcm90b3R5cGUuUmVnaXN0ZXJEb21IYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50Lm9uKFwiY2hhbmdlXCIsIFwiLmZhY2V0LWJvZHkgLmZhY2V0LWl0ZW0tZGVzY3JpcHRpb24gLmZhY2V0LXZhbHVlLWNoZWNrYm94XCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGpRdWVyeShldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICB2YXIgdmFsU3RyID0gZWxlbWVudC52YWwoKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB2YWxTdHIuc3BsaXQoXCI6XCIpO1xyXG4gICAgICAgICAgICB2YXIgY2hlY2tlZCA9IGVsZW1lbnQuaXMoXCI6Y2hlY2tlZFwiKTtcclxuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IGNoZWNrZWQgPyBGaWx0ZXJBY3Rpb25UeXBlXzEuRmlsdGVyQWN0aW9uVHlwZS5BZGQgOiBGaWx0ZXJBY3Rpb25UeXBlXzEuRmlsdGVyQWN0aW9uVHlwZS5NaW51cztcclxuICAgICAgICAgICAgX3RoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5vbkZpbHRlckNoYW5nZSh2YWx1ZVswXSwgdmFsdWVbMV0sIGFjdGlvbik7XHJcbiAgICAgICAgICAgIC8vIGlmICghY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAvLyAgICAgdGhpcy5lbGVtZW50LmZpbmQoXCIuZmFjZXQtc3ViaGVhZGVyIC5mYWNldC1sYWJlbHMgLmxhYmVsXCIpLmVhY2goKGluZGV4LCBsYWJlbCkgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGNvbnN0IHZhbCA9IGpRdWVyeShsYWJlbCkuYXR0cihcImRhdGEtZmlsdGVyLWVudHJ5XCIpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGlmICh2YWwgPT09IHZhbFN0cikge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBqUXVlcnkobGFiZWwpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIuZmFjZXQtc3ViaGVhZGVyIC5mYWNldC1sYWJlbHMgLmxhYmVsXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGpRdWVyeShldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQuaXMoXCIubGFiZWxcIikpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudHMoXCIubGFiZWxcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHZhbFN0ciA9IGVsZW1lbnQuYXR0cihcImRhdGEtZmlsdGVyLWVudHJ5XCIpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHZhbFN0ci5zcGxpdChcIjpcIik7XHJcbiAgICAgICAgICAgIF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMub25GaWx0ZXJDaGFuZ2UodmFsdWVbMF0sIHZhbHVlWzFdLCBGaWx0ZXJBY3Rpb25UeXBlXzEuRmlsdGVyQWN0aW9uVHlwZS5NaW51cyk7XHJcbiAgICAgICAgICAgIC8vIGVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuZWxlbWVudC5maW5kKFwiLmZhY2V0LWJvZHkgLmZhY2V0LWl0ZW0tZGVzY3JpcHRpb24gLmZhY2V0LXZhbHVlLWNoZWNrYm94XCIpXHJcbiAgICAgICAgICAgIC8vIC5lYWNoKChpbmRleCwgY2hlY2tib3gpID0+IHtcclxuICAgICAgICAgICAgLy8gICAgIGlmICghalF1ZXJ5KGNoZWNrYm94KS5pcyhcIjpjaGVja2VkXCIpKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAvLyAgICAgY29uc3QgdmFsID0galF1ZXJ5KGNoZWNrYm94KS52YWwoKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAvLyAgICAgaWYgKHZhbCA9PT0gdmFsU3RyKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgalF1ZXJ5KGNoZWNrYm94KS5wcm9wKFwiY2hlY2tlZFwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5vbihcImNsaWNrXCIsIFwiLmZhY2V0LXN1YmhlYWRlciAucmVtb3ZlLWFsbFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgX3RoaXMuZWxlbWVudC5maW5kKFwiLmZhY2V0LXN1YmhlYWRlclwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIF90aGlzLmNvbmZpZ1N0b3JlLk9wdGlvbnMub25BbGxGaWx0ZXJSZW1vdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBGaWx0ZXJBY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH07XHJcbiAgICBGaWx0ZXJBY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5vbkRvY3VtZW50Q2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRmlsdGVyQWN0aW9uSGFuZGxlcjtcclxufSgpKTtcclxuZXhwb3J0cy5GaWx0ZXJBY3Rpb25IYW5kbGVyID0gRmlsdGVyQWN0aW9uSGFuZGxlcjtcclxuXG5cbi8qKiovIH0pLFxuLyogNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBGaWx0ZXJBY3Rpb25UeXBlO1xyXG4oZnVuY3Rpb24gKEZpbHRlckFjdGlvblR5cGUpIHtcclxuICAgIEZpbHRlckFjdGlvblR5cGVbXCJBZGRcIl0gPSBcIkFkZFwiO1xyXG4gICAgRmlsdGVyQWN0aW9uVHlwZVtcIk1pbnVzXCJdID0gXCJNaW51c1wiO1xyXG59KShGaWx0ZXJBY3Rpb25UeXBlID0gZXhwb3J0cy5GaWx0ZXJBY3Rpb25UeXBlIHx8IChleHBvcnRzLkZpbHRlckFjdGlvblR5cGUgPSB7fSkpO1xyXG5cblxuLyoqKi8gfSksXG4vKiA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIEZhY2V0U3ViSGVhZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcclxudmFyIEZhY2V0Qm9keSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcbnZhciBGYWNldE1haW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcclxudmFyIEZhY2V0VGVtcGxhdGVTZXJ2aWNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRmFjZXRUZW1wbGF0ZVNlcnZpY2UoKSB7XHJcbiAgICAgICAgdGhpcy50ZW1wYXRlRnVuY3Rpb25Gb3JGYWNldE1haW4gPSBGYWNldE1haW47XHJcbiAgICAgICAgdGhpcy50ZW1wYXRlRnVuY3Rpb25Gb3JGYWNldFN1YkhlYWRlciA9IEZhY2V0U3ViSGVhZGVyO1xyXG4gICAgICAgIHRoaXMudGVtcGF0ZUZ1bmN0aW9uRm9yRmFjZXRCb2R5ID0gRmFjZXRCb2R5O1xyXG4gICAgfVxyXG4gICAgRmFjZXRUZW1wbGF0ZVNlcnZpY2UucHJvdG90eXBlLkJpbmQgPSBmdW5jdGlvbiAoZmFjZXRzLCBmaWx0ZXJzKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGF0ZUZ1bmN0aW9uRm9yRmFjZXRNYWluKHsgZmFjZXRzOiBmYWNldHMsIGZpbHRlcnM6IGZpbHRlcnMgfSk7XHJcbiAgICB9O1xyXG4gICAgRmFjZXRUZW1wbGF0ZVNlcnZpY2UucHJvdG90eXBlLkJpbmRPbmx5RmFjZXRzID0gZnVuY3Rpb24gKGZhY2V0cykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRlbXBhdGVGdW5jdGlvbkZvckZhY2V0Qm9keSh7IGZhY2V0czogZmFjZXRzIH0pO1xyXG4gICAgfTtcclxuICAgIEZhY2V0VGVtcGxhdGVTZXJ2aWNlLnByb3RvdHlwZS5CaW5kT25seUFwcGxpZWRGaWx0ZXJzID0gZnVuY3Rpb24gKGZpbHRlcnMpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50ZW1wYXRlRnVuY3Rpb25Gb3JGYWNldFN1YkhlYWRlcih7IGZpbHRlcnM6IGZpbHRlcnMgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEZhY2V0VGVtcGxhdGVTZXJ2aWNlO1xyXG59KCkpO1xyXG5leHBvcnRzLkZhY2V0VGVtcGxhdGVTZXJ2aWNlID0gRmFjZXRUZW1wbGF0ZVNlcnZpY2U7XHJcblxuXG4vKioqLyB9KSxcbi8qIDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY2hlY2tlZCA9IGZ1bmN0aW9uIChib29sKSB7XHJcbiAgICByZXR1cm4gYm9vbCA/IFwiY2hlY2tlZFwiIDogXCJcIjtcclxufTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gY2hlY2tlZDtcclxuXG5cbi8qKiovIH0pLFxuLyogOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBkaXNhYmxlZCA9IGZ1bmN0aW9uIChib29sKSB7XHJcbiAgICByZXR1cm4gYm9vbCA/IFwiZGlzYWJsZWRcIiA6IFwiXCI7XHJcbn07XHJcbmV4cG9ydHMuZGVmYXVsdCA9IGRpc2FibGVkO1xyXG5cblxuLyoqKi8gfSksXG4vKiAxMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgSGFuZGxlYmFycyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5mdW5jdGlvbiBfX2RlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgKG9iai5fX2VzTW9kdWxlID8gb2JqW1wiZGVmYXVsdFwiXSA6IG9iaik7IH1cbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbXCJkZWZhdWx0XCJdIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcImNvbXBpbGVyXCI6WzcsXCI+PSA0LjAuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazE7XG5cbiAgcmV0dXJuIFwiPHN0eWxlPlxcbiAgICAucmVtb3ZlLWxhYmVsOmhvdmVye1xcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7XFxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIH1cXG4gICAgLmJvcmRlci1sZXNzIHRyIHRkIHsgYm9yZGVyLXRvcDogMHB4ICFpbXBvcnRhbnQ7IH1cXG4gICAgLmN1cnNvci1wb2ludGVye1xcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICB9XFxuPC9zdHlsZT5cXG5cXG48ZGl2IGNsYXNzPVxcXCJndWkgZmx1aWQgY2FyZFxcXCIgc3R5bGU9XFxcInBhZGRpbmctdG9wIDogMHB4O2hlaWdodDoxMDAlO292ZXJmbG93OmhpZGRlbjtcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmYWNldC1oZWFkZXJcXFwiPlwiXG4gICAgKyAoKHN0YWNrMSA9IGNvbnRhaW5lci5pbnZva2VQYXJ0aWFsKF9fd2VicGFja19yZXF1aXJlX18oMTEpLGRlcHRoMCx7XCJuYW1lXCI6XCJmYWNldC1oZWFkZXJcIixcImRhdGFcIjpkYXRhLFwiaGVscGVyc1wiOmhlbHBlcnMsXCJwYXJ0aWFsc1wiOnBhcnRpYWxzLFwiZGVjb3JhdG9yc1wiOmNvbnRhaW5lci5kZWNvcmF0b3JzfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZmFjZXQtc3ViaGVhZGVyXFxcIj5cIlxuICAgICsgKChzdGFjazEgPSBjb250YWluZXIuaW52b2tlUGFydGlhbChfX3dlYnBhY2tfcmVxdWlyZV9fKDEpLGRlcHRoMCx7XCJuYW1lXCI6XCJmYWNldC1hcHBsaWVkLWZpbHRlcnNcIixcImRhdGFcIjpkYXRhLFwiaGVscGVyc1wiOmhlbHBlcnMsXCJwYXJ0aWFsc1wiOnBhcnRpYWxzLFwiZGVjb3JhdG9yc1wiOmNvbnRhaW5lci5kZWNvcmF0b3JzfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZmFjZXQtYm9keVxcXCIgc3R5bGU9XFxcImhlaWdodDoxMDAlO292ZXJmbG93OmhpZGRlbjtcXFwiPlwiXG4gICAgKyAoKHN0YWNrMSA9IGNvbnRhaW5lci5pbnZva2VQYXJ0aWFsKF9fd2VicGFja19yZXF1aXJlX18oMiksZGVwdGgwLHtcIm5hbWVcIjpcImZhY2V0LWJvZHlcIixcImRhdGFcIjpkYXRhLFwiaGVscGVyc1wiOmhlbHBlcnMsXCJwYXJ0aWFsc1wiOnBhcnRpYWxzLFwiZGVjb3JhdG9yc1wiOmNvbnRhaW5lci5kZWNvcmF0b3JzfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L2Rpdj5cXG48L2Rpdj5cIjtcbn0sXCJ1c2VQYXJ0aWFsXCI6dHJ1ZSxcInVzZURhdGFcIjp0cnVlfSk7XG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIEhhbmRsZWJhcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuZnVuY3Rpb24gX19kZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIChvYmouX19lc01vZHVsZSA/IG9ialtcImRlZmF1bHRcIl0gOiBvYmopOyB9XG5tb2R1bGUuZXhwb3J0cyA9IChIYW5kbGViYXJzW1wiZGVmYXVsdFwiXSB8fCBIYW5kbGViYXJzKS50ZW1wbGF0ZSh7XCJjb21waWxlclwiOls3LFwiPj0gNC4wLjBcIl0sXCJtYWluXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJjb250ZW50IGZhY2V0LWhlYWRlclxcXCI+XFxuICAgIDxoNSBjbGFzcz1cXFwiZ3VpIHN1YiBibHVlIGZsb2F0ZWQgbGVmdCBoZWFkZXJcXFwiPkZpbHRlcnMgU2VjdGlvbjwvaDU+XFxuICAgIDxkaXYgY2xhc3M9XFxcImd1aSBtaW5pIHJpZ2h0IGZsb2F0ZWQgYnV0dG9uc1xcXCI+XFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJndWkgbWluaSBpY29uIGJ1dHRvbiByZW1vdmUtYWxsXFxcIj5cXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiY2xvc2UgaWNvblxcXCI+PC9pPlxcbiAgICAgICAgPC9idXR0b24+XFxuICAgIDwvZGl2PlxcbjwvZGl2PlwiO1xufSxcInVzZURhdGFcIjp0cnVlfSk7XG5cbi8qKiovIH0pLFxuLyogMTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgQ29uZmlnU3RvcmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBDb25maWdTdG9yZShvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25maWdTdG9yZS5wcm90b3R5cGUsIFwiT3B0aW9uc1wiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnM7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gQ29uZmlnU3RvcmU7XHJcbn0oKSk7XHJcbmV4cG9ydHMuQ29uZmlnU3RvcmUgPSBDb25maWdTdG9yZTtcclxuXG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTtcbn0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBmYWNldG9vLm1pbi5qcyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGNhNTc3YTFhMDE5YzExNmVjYTViIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzBfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcIkM6XFxcXFVzZXJzXFxcXHJvdXN0dXJnXFxcXHNvdXJjZVxcXFxyZXBvc1xcXFxTZWFyY2hNYXN0ZXJcXFxcRmFjZXRvb1xcXFxub2RlX21vZHVsZXNcXFxcaGFuZGxlYmFyc1xcXFxydW50aW1lLmpzXCJcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgSGFuZGxlYmFycyA9IHJlcXVpcmUoXCJDOlxcXFxVc2Vyc1xcXFxyb3VzdHVyZ1xcXFxzb3VyY2VcXFxccmVwb3NcXFxcU2VhcmNoTWFzdGVyXFxcXEZhY2V0b29cXFxcbm9kZV9tb2R1bGVzXFxcXGhhbmRsZWJhcnNcXFxccnVudGltZS5qc1wiKTtcbmZ1bmN0aW9uIF9fZGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiAob2JqLl9fZXNNb2R1bGUgPyBvYmpbXCJkZWZhdWx0XCJdIDogb2JqKTsgfVxubW9kdWxlLmV4cG9ydHMgPSAoSGFuZGxlYmFyc1tcImRlZmF1bHRcIl0gfHwgSGFuZGxlYmFycykudGVtcGxhdGUoe1wiMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhLGJsb2NrUGFyYW1zLGRlcHRocykge1xuICAgIHZhciBzdGFjazE7XG5cbiAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwiY29udGVudFxcXCI+XFxuICAgIDxoNSBjbGFzcz1cXFwiZ3VpIHN1YiBibHVlIGZsb2F0ZWQgbGVmdCBoZWFkZXJcXFwiPkFwcGxpZWQgRmlsdGVyczwvaDU+XFxuICAgIDxkaXYgY2xhc3M9XFxcImd1aSBtaW5pIHJpZ2h0IGZsb2F0ZWQgYnV0dG9uc1xcXCI+XFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJndWkgbWluaSBpY29uIGJ1dHRvbiByZW1vdmUtYWxsXFxcIj5cXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbiBpY29uLWNsb3NlXFxcIj48L2k+XFxuICAgICAgICA8L2J1dHRvbj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcImd1aSB0aW55IGhpZGRlbiBjbGVhcmluZyBkaXZpZGVyXFxcIj48L2Rpdj5cXG4gICAgPHRhYmxlIGNsYXNzPVxcXCJndWkgdmVyeSBjb21wYWN0IHNtYWxsIGNvbGxhcHNpbmcgYm9yZGVyLWxlc3MgdGFibGVcXFwiIHN0eWxlPVxcXCJib3JkZXI6IG5vbmU7O2NsZWFyOmJvdGg7XFxcIj5cXG4gICAgICAgIDx0Ym9kPlxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmZpbHRlcnMgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMiwgZGF0YSwgMCwgYmxvY2tQYXJhbXMsIGRlcHRocyksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICA8L3Rib2Q+XFxuICAgIDwvdGFibGU+XFxuPC9kaXY+XFxuXCI7XG59LFwiMlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhLGJsb2NrUGFyYW1zLGRlcHRocykge1xuICAgIHZhciBzdGFjazEsIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSk7XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgPHRyIGNsYXNzPVxcXCJ0b3AgYWxpZ25lZFxcXCI+XFxuICAgICAgICAgICAgICAgIDx0ZD5cIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5pZCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWQgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVycy5oZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gXCJmdW5jdGlvblwiID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImlkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIjwvdGQ+XFxuICAgICAgICAgICAgICAgIDx0ZD5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJndWkgbWluaSBibHVlIGxhYmVscyBmYWNldC1sYWJlbHNcXFwiPlxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZmFjZXRWYWx1ZXMgOiBkZXB0aDApLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMywgZGF0YSwgMCwgYmxvY2tQYXJhbXMsIGRlcHRocyksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDwvdGQ+XFxuICAgICAgICAgICAgPC90cj5cXG5cIjtcbn0sXCIzXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEsYmxvY2tQYXJhbXMsZGVwdGhzKSB7XG4gICAgdmFyIGFsaWFzMT1jb250YWluZXIubGFtYmRhLCBhbGlhczI9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImd1aSBsYWJlbCByZW1vdmUtbGFiZWxcXFwiIGRhdGEtZmlsdGVyLWVudHJ5PVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGhzWzFdICE9IG51bGwgPyBkZXB0aHNbMV0uaWQgOiBkZXB0aHNbMV0pLCBkZXB0aDApKVxuICAgICsgXCI6XCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmxhYmVsIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmxhYmVsIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJpY29uIGljb24tY2xvc2VcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxuXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhLGJsb2NrUGFyYW1zLGRlcHRocykge1xuICAgIHZhciBzdGFjazE7XG5cbiAgcmV0dXJuICgoc3RhY2sxID0gaGVscGVyc1tcImlmXCJdLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5maWx0ZXJzIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5sZW5ndGggOiBzdGFjazEpLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDEsIGRhdGEsIDAsIGJsb2NrUGFyYW1zLCBkZXB0aHMpLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpO1xufSxcInVzZURhdGFcIjp0cnVlLFwidXNlRGVwdGhzXCI6dHJ1ZX0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2hicy9mYWNldC1hcHBsaWVkLWZpbHRlcnMuaGJzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIEhhbmRsZWJhcnMgPSByZXF1aXJlKFwiQzpcXFxcVXNlcnNcXFxccm91c3R1cmdcXFxcc291cmNlXFxcXHJlcG9zXFxcXFNlYXJjaE1hc3RlclxcXFxGYWNldG9vXFxcXG5vZGVfbW9kdWxlc1xcXFxoYW5kbGViYXJzXFxcXHJ1bnRpbWUuanNcIik7XG5mdW5jdGlvbiBfX2RlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgKG9iai5fX2VzTW9kdWxlID8gb2JqW1wiZGVmYXVsdFwiXSA6IG9iaik7IH1cbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbXCJkZWZhdWx0XCJdIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcIjFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSxibG9ja1BhcmFtcyxkZXB0aHMpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiBcIiAgICAgICAgPGRpdiBjbGFzcz1cXFwiaXRlbSBmYWNldC1pdGVtXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb250ZW50XFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZmFjZXQtaXRlbS1oZWFkZXIgY3Vyc29yLXBvaW50ZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcInJpZ2h0IHRyaWFuZ2xlIGljb25cXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPlwiXG4gICAgKyBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbihjb250YWluZXIubGFtYmRhKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiPC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZGVzY3JpcHRpb24gZmFjZXQtaXRlbS1kZXNjcmlwdGlvblxcXCIgc3R5bGU9XFxcImRpc3BsYXk6bm9uZTtcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ3VpIHNtYWxsIGxpc3RcXFwiPlxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmZhY2V0VmFsdWVzIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDIsIGRhdGEsIDAsIGJsb2NrUGFyYW1zLCBkZXB0aHMpLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuXCI7XG59LFwiMlwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhLGJsb2NrUGFyYW1zLGRlcHRocykge1xuICAgIHZhciBhbGlhczE9Y29udGFpbmVyLmxhbWJkYSwgYWxpYXMyPWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uLCBhbGlhczM9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpdGVtXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHN0eWxlPVxcXCJoZWlnaHQ6MC44NWVtO1xcXCIgaWQ9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5sYWJlbCA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIi1cIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGF0YSAmJiBkYXRhLmluZGV4KSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIiBcIlxuICAgICsgYWxpYXMyKF9fZGVmYXVsdChyZXF1aXJlKFwiQzpcXFxcVXNlcnNcXFxccm91c3R1cmdcXFxcc291cmNlXFxcXHJlcG9zXFxcXFNlYXJjaE1hc3RlclxcXFxGYWNldG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxDaGVja2VkLnRzXCIpKS5jYWxsKGFsaWFzMywoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuc2VsZWN0ZWQgOiBkZXB0aDApLHtcIm5hbWVcIjpcIkNoZWNrZWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIiBcIlxuICAgICsgYWxpYXMyKF9fZGVmYXVsdChyZXF1aXJlKFwiQzpcXFxcVXNlcnNcXFxccm91c3R1cmdcXFxcc291cmNlXFxcXHJlcG9zXFxcXFNlYXJjaE1hc3RlclxcXFxGYWNldG9vXFxcXHNyY1xcXFxoYnNcXFxcaGVscGVyc1xcXFxEaXNhYmxlZC50c1wiKSkuY2FsbChhbGlhczMsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmRpc2FibGVkIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJEaXNhYmxlZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiIGNsYXNzPVxcXCJmYWNldC12YWx1ZS1jaGVja2JveCBjdXJzb3ItcG9pbnRlclxcXCIgdmFsdWU9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aHNbMV0gIT0gbnVsbCA/IGRlcHRoc1sxXS5pZCA6IGRlcHRoc1sxXSksIGRlcHRoMCkpXG4gICAgKyBcIjpcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubGFiZWwgOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIi8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT1cXFwiZm9udC1zaXplOjAuODVlbTtcXFwiIGNsYXNzPVxcXCJjdXJzb3ItcG9pbnRlclxcXCIgZm9yPVxcXCJcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubGFiZWwgOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCItXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRhdGEgJiYgZGF0YS5pbmRleCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCI+XCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmxhYmVsIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiIChcIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY291bnQgOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCIpPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cIjtcbn0sXCJjb21waWxlclwiOls3LFwiPj0gNC4wLjBcIl0sXCJtYWluXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEsYmxvY2tQYXJhbXMsZGVwdGhzKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJjb250ZW50XFxcIiBzdHlsZT1cXFwiaGVpZ2h0OiAxMDAlO292ZXJmbG93OmhpZGRlbjtcXFwiPlxcbiAgICA8aDUgY2xhc3M9XFxcImd1aSBzdWIgYmx1ZSBsZWZ0IGZsb2F0ZWQgaGVhZGVyXFxcIj5TZWxlY3QgRmlsdGVyczwvaDU+XFxuICAgIDxkaXYgY2xhc3M9XFxcImd1aSBtaW5pIHJpZ2h0IGZsb2F0ZWQgYnV0dG9uc1xcXCI+XFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJndWkgbWluaSBpY29uIGJ1dHRvbiBleHBhbmQtYWxsXFxcIj5cXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbiBpY29uLXBsdXNcXFwiPjwvaT5cXG4gICAgICAgIDwvYnV0dG9uPlxcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiZ3VpIG1pbmkgaWNvbiBidXR0b24gY29sbGFwc2UtYWxsXFxcIj5cXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbiBpY29uLW1pbnVzXFxcIj48L2k+XFxuICAgICAgICA8L2J1dHRvbj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcImd1aSB0aW55IGhpZGRlbiBjbGVhcmluZyBkaXZpZGVyXFxcIj48L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZ3VpIG1lZGl1bSBsaXN0IGZhY2V0LWxpc3RcXFwiIHN0eWxlPVxcXCJoZWlnaHQ6IDEwMCU7b3ZlcmZsb3c6IGF1dG87Y2xlYXI6Ym90aDtcXFwiPlxcblwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmZhY2V0cyA6IGRlcHRoMCkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxLCBkYXRhLCAwLCBibG9ja1BhcmFtcywgZGVwdGhzKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgPC9kaXY+XFxuPC9kaXY+XCI7XG59LFwidXNlRGF0YVwiOnRydWUsXCJ1c2VEZXB0aHNcIjp0cnVlfSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaGJzL2ZhY2V0LWJvZHkuaGJzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IHsgRXhwYW5kQ29sbGFwc2VIYW5kbGVyIH0gZnJvbSBcIi4uL2V2ZW50aGFuZGxlcnMvRXhwYW5kQ29sbGFwc2VIYW5kbGVyXCI7XG5pbXBvcnQgeyBGaWx0ZXJBY3Rpb25IYW5kbGVyIH0gZnJvbSBcIi4uL2V2ZW50aGFuZGxlcnMvRmlsdGVyQWN0aW9uSGFuZGxlclwiO1xuaW1wb3J0IHsgSUV2ZW50SGFuZGxlciB9IGZyb20gXCIuLi9ldmVudGhhbmRsZXJzL0lFdmVudEhhbmRsZXJcIjtcbmltcG9ydCB7IElGYWNldCB9IGZyb20gXCIuLi9tb2RlbHMvSUZhY2V0XCI7XG5pbXBvcnQgeyBJRmFjZXRWYWx1ZSB9IGZyb20gXCIuLi9tb2RlbHMvSUZhY2V0VmFsdWVcIjtcbmltcG9ydCB7IEZhY2V0VGVtcGxhdGVTZXJ2aWNlIH0gZnJvbSBcIi4uL3NlcnZpY2VzL0ZhY2V0VGVtcGxhdGVTZXJ2aWNlXCI7XG5pbXBvcnQgeyBJRmFjZXRUZW1wbGF0ZVNlcnZpY2UgfSBmcm9tIFwiLi4vc2VydmljZXMvSUZhY2V0VGVtcGxhdGVTZXJ2aWNlXCI7XG5pbXBvcnQgeyBDb25maWdTdG9yZSB9IGZyb20gXCIuLy4uL2NvbmZpZy9Db25maWdTdG9yZVwiO1xuaW1wb3J0IHsgSUZhY2V0T3B0aW9ucyB9IGZyb20gXCIuLy4uL2NvbmZpZy9JRmFjZXRPcHRpb25zXCI7XG5cbmV4cG9ydCBjbGFzcyBGYWNldCB7XG4gICAgcHJpdmF0ZSBjb25maWdTdG9yZTogQ29uZmlnU3RvcmU7XG4gICAgcHJpdmF0ZSB0ZW1wbGF0ZVNlcnZpY2U6IElGYWNldFRlbXBsYXRlU2VydmljZTtcbiAgICBwcml2YXRlIHBhcmVudEVsZW1lbnQ6IEpRdWVyeTtcbiAgICBwcml2YXRlIGJpbmRGaW5pc2hlZDogYm9vbGVhbjtcbiAgICBwcml2YXRlIGhhbmRsZXJDaGFpbjogSUV2ZW50SGFuZGxlcltdID0gW107XG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogSUZhY2V0T3B0aW9ucykge1xuICAgICAgICB0aGlzLmNvbmZpZ1N0b3JlID0gIG5ldyBDb25maWdTdG9yZShvcHRpb25zKTtcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0galF1ZXJ5KG9wdGlvbnMuY29udGFpbmVyRWxlbWVudCk7XG4gICAgICAgIHRoaXMudGVtcGxhdGVTZXJ2aWNlID0gbmV3IEZhY2V0VGVtcGxhdGVTZXJ2aWNlKCk7XG4gICAgICAgIHRoaXMuaGFuZGxlckNoYWluLnB1c2gobmV3IEV4cGFuZENvbGxhcHNlSGFuZGxlcih0aGlzLnBhcmVudEVsZW1lbnQsIHRoaXMuY29uZmlnU3RvcmUpKTtcbiAgICAgICAgdGhpcy5oYW5kbGVyQ2hhaW4ucHVzaChuZXcgRmlsdGVyQWN0aW9uSGFuZGxlcih0aGlzLnBhcmVudEVsZW1lbnQsIHRoaXMuY29uZmlnU3RvcmUpKTtcbiAgICAgICAgdGhpcy5oYW5kbGVyQ2hhaW4uZm9yRWFjaCgoaGFuZGxlcikgPT4ge1xuICAgICAgICAgICAgaGFuZGxlci5SZWdpc3RlckRvbUhhbmRsZXIoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHB1YmxpYyBzaG93TG9hZGVyID0gKCk6IHZvaWQgPT4ge1xuICAgICAgICBqUXVlcnkodGhpcy5jb25maWdTdG9yZS5PcHRpb25zLmNvbnRhaW5lckVsZW1lbnQpLmZpbmQoXCIuZmFjZXQtbG9hZGVyXCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgIH1cbiAgICBwdWJsaWMgaGlkZUxvYWRlciA9ICgpOiB2b2lkID0+IHtcbiAgICAgICAgalF1ZXJ5KHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5jb250YWluZXJFbGVtZW50KS5maW5kKFwiLmZhY2V0LWxvYWRlclwiKS5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgfVxuICAgIHB1YmxpYyBCaW5kT25seUZhY2V0cyA9ICAoZmFjZXRzOiBJRmFjZXRbXSk6IHZvaWQgPT4ge1xuICAgICAgICBpZiAoIXRoaXMuYmluZEZpbmlzaGVkKSB7XG4gICAgICAgICAgICBjb25zdCBmdWxsRmFjZXQgPSB0aGlzLnRlbXBsYXRlU2VydmljZS5CaW5kKGZhY2V0cywgW10pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZmFjZXRTdWJIZWFkZXIgPSB0aGlzLnRlbXBsYXRlU2VydmljZS5CaW5kT25seUZhY2V0cyhmYWNldHMpO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIuZmFjZXQtYm9keVwiKS5odG1sKGZhY2V0U3ViSGVhZGVyKTtcbiAgICAgICAgfSAgICB9XG4gICAgcHVibGljIEJpbmRPbmx5QXBwbGllZEZpbHRlcnMgPSAgKGZpbHRlcnM6IElGYWNldFtdKTogdm9pZCA9PiB7XG4gICAgICAgIGlmICghdGhpcy5iaW5kRmluaXNoZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGZ1bGxGYWNldCA9IHRoaXMudGVtcGxhdGVTZXJ2aWNlLkJpbmQoW10sIGZpbHRlcnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZmFjZXRTdWJIZWFkZXIgPSB0aGlzLnRlbXBsYXRlU2VydmljZS5CaW5kT25seUFwcGxpZWRGaWx0ZXJzKGZpbHRlcnMpO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50LmZpbmQoXCIuZmFjZXQtc3ViaGVhZGVyXCIpLmh0bWwoZmFjZXRTdWJIZWFkZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHB1YmxpYyBCaW5kID0gIChmYWNldHM6IElGYWNldFtdLCBmaWx0ZXJzOiBJRmFjZXRbXSk6IHZvaWQgPT4ge1xuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQuaHRtbCh0aGlzLnRlbXBsYXRlU2VydmljZS5CaW5kKGZhY2V0cywgZmlsdGVycykpO1xuICAgICAgICB0aGlzLmJpbmRGaW5pc2hlZCA9IHRydWU7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy90cy9tYWluL0ZhY2V0LnRzIiwiaW1wb3J0IHsgQ29uZmlnU3RvcmUgfSBmcm9tIFwiLi4vY29uZmlnL0NvbmZpZ1N0b3JlXCI7XG5pbXBvcnQgeyBJRXZlbnRIYW5kbGVyIH0gZnJvbSBcIi4vSUV2ZW50SGFuZGxlclwiO1xuXG5lbnVtIFNob3dIaWRlIHtcbiAgICBTaG93LFxuICAgIEhpZGUsXG4gICAgVG9nZ2xlLFxufVxuXG5leHBvcnQgY2xhc3MgRXhwYW5kQ29sbGFwc2VIYW5kbGVyIGltcGxlbWVudHMgSUV2ZW50SGFuZGxlciB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBlbGVtZW50OiBKUXVlcnksIHByaXZhdGUgY29uZmlnU3RvcmU6IENvbmZpZ1N0b3JlKSB7fVxuXG4gICAgcHVibGljIFJlZ2lzdGVyRG9tSGFuZGxlcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5lbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIuZmFjZXQtYm9keSAuZXhwYW5kLWFsbFwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5maW5kKFwiLmZhY2V0LWl0ZW0taGVhZGVyXCIpLmVhY2goKGluZGV4LCBlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5Db250cm9sVmlzaWJpbGl0eU9mRmlsdGVyKGpRdWVyeShlbGVtZW50KSwgU2hvd0hpZGUuU2hvdyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIGpRdWVyeShldmVudC50YXJnZXQpLnBhcmVudHMoXCJidXR0b25cIilcbiAgICAgICAgICAgIC8vIC5hdHRyKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpXG4gICAgICAgICAgICAvLyAuc2libGluZ3MoXCJidXR0b25cIilcbiAgICAgICAgICAgIC8vIC5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5vbihcImNsaWNrXCIsIFwiLmZhY2V0LWJvZHkgLmNvbGxhcHNlLWFsbFwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5maW5kKFwiLmZhY2V0LWl0ZW0taGVhZGVyXCIpLmVhY2goKGluZGV4LCBlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5Db250cm9sVmlzaWJpbGl0eU9mRmlsdGVyKGpRdWVyeShlbGVtZW50KSwgU2hvd0hpZGUuSGlkZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIGpRdWVyeShldmVudC50YXJnZXQpXG4gICAgICAgICAgICAvLyAucGFyZW50cyhcImJ1dHRvblwiKVxuICAgICAgICAgICAgLy8gLmF0dHIoXCJkaXNhYmxlZFwiLCBcInRydWVcIilcbiAgICAgICAgICAgIC8vIC5zaWJsaW5ncyhcImJ1dHRvblwiKVxuICAgICAgICAgICAgLy8gLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIuZmFjZXQtYm9keSAuZmFjZXQtaXRlbSAuZmFjZXQtaXRlbS1oZWFkZXJcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJFbGVtZW50ID0galF1ZXJ5KGV2ZW50LnRhcmdldCkucGFyZW50cyhcIi5mYWNldC1pdGVtLWhlYWRlclwiKTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5maW5kKFwiLmZhY2V0LWhlYWRlciAuYnV0dG9uXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgIHRoaXMuQ29udHJvbFZpc2liaWxpdHlPZkZpbHRlcihoZWFkZXJFbGVtZW50LCBTaG93SGlkZS5Ub2dnbGUpO1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwdWJsaWMgb25SZXNpemUoKTogdm9pZCB7XG4gICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIH1cbiAgICBwdWJsaWMgb25Eb2N1bWVudENsaWNrKGV2ZW50OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgfVxuICAgIHByaXZhdGUgQ29udHJvbFZpc2liaWxpdHlPZkZpbHRlciA9IChlbGVtZW50OiBKUXVlcnksIHNob3dIaWRlOiBTaG93SGlkZSkgPT4ge1xuICAgICAgICBjb25zdCBpY29uRWxlbWVudCA9IGVsZW1lbnQuY2hpbGRyZW4oXCJpXCIpO1xuICAgICAgICBjb25zdCBjdXJyZW50bHlWaXNpYmxlID0gaWNvbkVsZW1lbnQuaGFzQ2xhc3MoXCJkb3duXCIpO1xuICAgICAgICBpZiAoU2hvd0hpZGUuVG9nZ2xlICE9PSBzaG93SGlkZSAmJiAoKGN1cnJlbnRseVZpc2libGUgJiYgc2hvd0hpZGUgPT09IFNob3dIaWRlLlNob3cpIHx8XG4gICAgICAgICAgICAoIWN1cnJlbnRseVZpc2libGUgJiYgc2hvd0hpZGUgPT09IFNob3dIaWRlLkhpZGUpKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY3VycmVudGx5VmlzaWJsZSkge1xuICAgICAgICAgICAgZWxlbWVudC5wYXJlbnRzKFwiLmZhY2V0LWl0ZW1cIikuZmluZChcIi5mYWNldC1pdGVtLWRlc2NyaXB0aW9uXCIpLnNob3coKTtcbiAgICAgICAgICAgIGljb25FbGVtZW50LnJlbW92ZUNsYXNzKFwicmlnaHRcIik7XG4gICAgICAgICAgICBpY29uRWxlbWVudC5hZGRDbGFzcyhcImRvd25cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LnBhcmVudHMoXCIuZmFjZXQtaXRlbVwiKS5maW5kKFwiLmZhY2V0LWl0ZW0tZGVzY3JpcHRpb25cIikuaGlkZSgpO1xuICAgICAgICAgICAgaWNvbkVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJkb3duXCIpO1xuICAgICAgICAgICAgaWNvbkVsZW1lbnQuYWRkQ2xhc3MoXCJyaWdodFwiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvdHMvZXZlbnRoYW5kbGVycy9FeHBhbmRDb2xsYXBzZUhhbmRsZXIudHMiLCJpbXBvcnQgeyBDb25maWdTdG9yZSB9IGZyb20gXCIuLi9jb25maWcvQ29uZmlnU3RvcmVcIjtcbmltcG9ydCB7IEZpbHRlckFjdGlvblR5cGUgfSBmcm9tIFwiLi4vbW9kZWxzL0ZpbHRlckFjdGlvblR5cGVcIjtcbmltcG9ydCB7IElFdmVudEhhbmRsZXIgfSBmcm9tIFwiLi9JRXZlbnRIYW5kbGVyXCI7XG5cbmV4cG9ydCBjbGFzcyBGaWx0ZXJBY3Rpb25IYW5kbGVyIGltcGxlbWVudHMgSUV2ZW50SGFuZGxlciB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsZW1lbnQ6IEpRdWVyeSwgcHJpdmF0ZSBjb25maWdTdG9yZTogQ29uZmlnU3RvcmUpIHt9XG5cbiAgICBwdWJsaWMgUmVnaXN0ZXJEb21IYW5kbGVyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmVsZW1lbnQub24oXCJjaGFuZ2VcIiwgXCIuZmFjZXQtYm9keSAuZmFjZXQtaXRlbS1kZXNjcmlwdGlvbiAuZmFjZXQtdmFsdWUtY2hlY2tib3hcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0galF1ZXJ5KGV2ZW50LnRhcmdldCk7XG4gICAgICAgICAgICBjb25zdCB2YWxTdHIgPSBlbGVtZW50LnZhbCgpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHZhbFN0ci5zcGxpdChcIjpcIik7XG4gICAgICAgICAgICBjb25zdCBjaGVja2VkID0gZWxlbWVudC5pcyhcIjpjaGVja2VkXCIpO1xuICAgICAgICAgICAgY29uc3QgYWN0aW9uID0gY2hlY2tlZCA/IEZpbHRlckFjdGlvblR5cGUuQWRkIDogRmlsdGVyQWN0aW9uVHlwZS5NaW51cztcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5vbkZpbHRlckNoYW5nZSh2YWx1ZVswXSwgdmFsdWVbMV0sIGFjdGlvbik7XG4gICAgICAgICAgICAvLyBpZiAoIWNoZWNrZWQpIHtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLmVsZW1lbnQuZmluZChcIi5mYWNldC1zdWJoZWFkZXIgLmZhY2V0LWxhYmVscyAubGFiZWxcIikuZWFjaCgoaW5kZXgsIGxhYmVsKSA9PiB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGNvbnN0IHZhbCA9IGpRdWVyeShsYWJlbCkuYXR0cihcImRhdGEtZmlsdGVyLWVudHJ5XCIpO1xuICAgICAgICAgICAgLy8gICAgICAgICBpZiAodmFsID09PSB2YWxTdHIpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIGpRdWVyeShsYWJlbCkucmVtb3ZlKCk7XG4gICAgICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICB9KTtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5vbihcImNsaWNrXCIsIFwiLmZhY2V0LXN1YmhlYWRlciAuZmFjZXQtbGFiZWxzIC5sYWJlbFwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGxldCBlbGVtZW50ID0galF1ZXJ5KGV2ZW50LnRhcmdldCk7XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQuaXMoXCIubGFiZWxcIikpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnRzKFwiLmxhYmVsXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdmFsU3RyID0gZWxlbWVudC5hdHRyKFwiZGF0YS1maWx0ZXItZW50cnlcIikudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdmFsU3RyLnNwbGl0KFwiOlwiKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5vbkZpbHRlckNoYW5nZSh2YWx1ZVswXSwgdmFsdWVbMV0sIEZpbHRlckFjdGlvblR5cGUuTWludXMpO1xuICAgICAgICAgICAgLy8gZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgIC8vIHRoaXMuZWxlbWVudC5maW5kKFwiLmZhY2V0LWJvZHkgLmZhY2V0LWl0ZW0tZGVzY3JpcHRpb24gLmZhY2V0LXZhbHVlLWNoZWNrYm94XCIpXG4gICAgICAgICAgICAvLyAuZWFjaCgoaW5kZXgsIGNoZWNrYm94KSA9PiB7XG4gICAgICAgICAgICAvLyAgICAgaWYgKCFqUXVlcnkoY2hlY2tib3gpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIC8vICAgICBjb25zdCB2YWwgPSBqUXVlcnkoY2hlY2tib3gpLnZhbCgpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAvLyAgICAgaWYgKHZhbCA9PT0gdmFsU3RyKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGpRdWVyeShjaGVja2JveCkucHJvcChcImNoZWNrZWRcIiwgZmFsc2UpO1xuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbGVtZW50Lm9uKFwiY2xpY2tcIiwgXCIuZmFjZXQtc3ViaGVhZGVyIC5yZW1vdmUtYWxsXCIsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmZpbmQoXCIuZmFjZXQtc3ViaGVhZGVyXCIpLmhpZGUoKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU3RvcmUuT3B0aW9ucy5vbkFsbEZpbHRlclJlbW92ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcHVibGljIG9uUmVzaXplKCk6IHZvaWQge1xuICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgICB9XG4gICAgcHVibGljIG9uRG9jdW1lbnRDbGljayhldmVudDogYW55KTogdm9pZCB7XG4gICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIH1cblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy90cy9ldmVudGhhbmRsZXJzL0ZpbHRlckFjdGlvbkhhbmRsZXIudHMiLCJleHBvcnQgZW51bSBGaWx0ZXJBY3Rpb25UeXBlIHtcbiAgICBBZGQgPSBcIkFkZFwiLFxuICAgIE1pbnVzID0gXCJNaW51c1wiLFxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy90cy9tb2RlbHMvRmlsdGVyQWN0aW9uVHlwZS50cyIsImltcG9ydCAqIGFzIEhhbmRsZWJhcnMgZnJvbSBcImhhbmRsZWJhcnNcIjtcbmltcG9ydCB7IElGYWNldCB9IGZyb20gXCIuLi9tb2RlbHMvSUZhY2V0XCI7XG5pbXBvcnQgKiBhcyBGYWNldFN1YkhlYWRlciBmcm9tIFwiLi8uLi8uLi9oYnMvZmFjZXQtYXBwbGllZC1maWx0ZXJzLmhic1wiO1xuaW1wb3J0ICogYXMgRmFjZXRCb2R5IGZyb20gXCIuLy4uLy4uL2hicy9mYWNldC1ib2R5Lmhic1wiO1xuaW1wb3J0ICogYXMgRmFjZXRNYWluIGZyb20gXCIuLy4uLy4uL2hicy9mYWNldC1tYWluLmhic1wiO1xuaW1wb3J0IHsgSUZhY2V0VGVtcGxhdGVTZXJ2aWNlIH0gZnJvbSBcIi4vSUZhY2V0VGVtcGxhdGVTZXJ2aWNlXCI7XG5cbmV4cG9ydCBjbGFzcyBGYWNldFRlbXBsYXRlU2VydmljZSBpbXBsZW1lbnRzIElGYWNldFRlbXBsYXRlU2VydmljZSB7XG4gICAgcHJpdmF0ZSBkYXRhOiBJRmFjZXRbXTtcbiAgICBwcml2YXRlIHRlbXBhdGVGdW5jdGlvbkZvckZhY2V0TWFpbjogYW55O1xuICAgIHByaXZhdGUgdGVtcGF0ZUZ1bmN0aW9uRm9yRmFjZXRIZWFkZXI6IGFueTtcbiAgICBwcml2YXRlIHRlbXBhdGVGdW5jdGlvbkZvckZhY2V0U3ViSGVhZGVyOiBhbnk7XG4gICAgcHJpdmF0ZSB0ZW1wYXRlRnVuY3Rpb25Gb3JGYWNldEJvZHk6IGFueTtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy50ZW1wYXRlRnVuY3Rpb25Gb3JGYWNldE1haW4gPSBGYWNldE1haW47XG4gICAgICAgIHRoaXMudGVtcGF0ZUZ1bmN0aW9uRm9yRmFjZXRTdWJIZWFkZXIgPSBGYWNldFN1YkhlYWRlcjtcbiAgICAgICAgdGhpcy50ZW1wYXRlRnVuY3Rpb25Gb3JGYWNldEJvZHkgPSBGYWNldEJvZHk7XG4gICAgfVxuICAgIHB1YmxpYyBCaW5kKGZhY2V0czogSUZhY2V0W10sIGZpbHRlcnM6IElGYWNldFtdKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGF0ZUZ1bmN0aW9uRm9yRmFjZXRNYWluKHtmYWNldHMsIGZpbHRlcnN9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgQmluZE9ubHlGYWNldHMoZmFjZXRzOiBJRmFjZXRbXSk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnRlbXBhdGVGdW5jdGlvbkZvckZhY2V0Qm9keSh7ZmFjZXRzfSk7XG4gICAgfVxuXG4gICAgcHVibGljIEJpbmRPbmx5QXBwbGllZEZpbHRlcnMoZmlsdGVyczogSUZhY2V0W10pOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy50ZW1wYXRlRnVuY3Rpb25Gb3JGYWNldFN1YkhlYWRlcih7ZmlsdGVyc30pO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy90c2xpbnQtbG9hZGVyPz9yZWYtLTEhLi9zcmMvdHMvc2VydmljZXMvRmFjZXRUZW1wbGF0ZVNlcnZpY2UudHMiLCJjb25zdCBjaGVja2VkID0gKGJvb2w6IGJvb2xlYW4pOiBzdHJpbmcgPT4ge1xyXG4gICAgcmV0dXJuIGJvb2wgPyBcImNoZWNrZWRcIiA6IFwiXCI7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjaGVja2VkO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2hicy9oZWxwZXJzL0NoZWNrZWQudHMiLCJjb25zdCBkaXNhYmxlZCA9IChib29sOiBib29sZWFuKTogc3RyaW5nID0+IHtcclxuICAgIHJldHVybiBib29sID8gXCJkaXNhYmxlZFwiIDogXCJcIjtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGRpc2FibGVkO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvdHNsaW50LWxvYWRlcj8/cmVmLS0xIS4vc3JjL2hicy9oZWxwZXJzL0Rpc2FibGVkLnRzIiwidmFyIEhhbmRsZWJhcnMgPSByZXF1aXJlKFwiQzpcXFxcVXNlcnNcXFxccm91c3R1cmdcXFxcc291cmNlXFxcXHJlcG9zXFxcXFNlYXJjaE1hc3RlclxcXFxGYWNldG9vXFxcXG5vZGVfbW9kdWxlc1xcXFxoYW5kbGViYXJzXFxcXHJ1bnRpbWUuanNcIik7XG5mdW5jdGlvbiBfX2RlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgKG9iai5fX2VzTW9kdWxlID8gb2JqW1wiZGVmYXVsdFwiXSA6IG9iaik7IH1cbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbXCJkZWZhdWx0XCJdIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcImNvbXBpbGVyXCI6WzcsXCI+PSA0LjAuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazE7XG5cbiAgcmV0dXJuIFwiPHN0eWxlPlxcbiAgICAucmVtb3ZlLWxhYmVsOmhvdmVye1xcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7XFxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIH1cXG4gICAgLmJvcmRlci1sZXNzIHRyIHRkIHsgYm9yZGVyLXRvcDogMHB4ICFpbXBvcnRhbnQ7IH1cXG4gICAgLmN1cnNvci1wb2ludGVye1xcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICB9XFxuPC9zdHlsZT5cXG5cXG48ZGl2IGNsYXNzPVxcXCJndWkgZmx1aWQgY2FyZFxcXCIgc3R5bGU9XFxcInBhZGRpbmctdG9wIDogMHB4O2hlaWdodDoxMDAlO292ZXJmbG93OmhpZGRlbjtcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmYWNldC1oZWFkZXJcXFwiPlwiXG4gICAgKyAoKHN0YWNrMSA9IGNvbnRhaW5lci5pbnZva2VQYXJ0aWFsKHJlcXVpcmUoXCJDOlxcXFxVc2Vyc1xcXFxyb3VzdHVyZ1xcXFxzb3VyY2VcXFxccmVwb3NcXFxcU2VhcmNoTWFzdGVyXFxcXEZhY2V0b29cXFxcc3JjXFxcXGhic1xcXFxmYWNldC1oZWFkZXIuaGJzXCIpLGRlcHRoMCx7XCJuYW1lXCI6XCJmYWNldC1oZWFkZXJcIixcImRhdGFcIjpkYXRhLFwiaGVscGVyc1wiOmhlbHBlcnMsXCJwYXJ0aWFsc1wiOnBhcnRpYWxzLFwiZGVjb3JhdG9yc1wiOmNvbnRhaW5lci5kZWNvcmF0b3JzfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZmFjZXQtc3ViaGVhZGVyXFxcIj5cIlxuICAgICsgKChzdGFjazEgPSBjb250YWluZXIuaW52b2tlUGFydGlhbChyZXF1aXJlKFwiQzpcXFxcVXNlcnNcXFxccm91c3R1cmdcXFxcc291cmNlXFxcXHJlcG9zXFxcXFNlYXJjaE1hc3RlclxcXFxGYWNldG9vXFxcXHNyY1xcXFxoYnNcXFxcZmFjZXQtYXBwbGllZC1maWx0ZXJzLmhic1wiKSxkZXB0aDAse1wibmFtZVwiOlwiZmFjZXQtYXBwbGllZC1maWx0ZXJzXCIsXCJkYXRhXCI6ZGF0YSxcImhlbHBlcnNcIjpoZWxwZXJzLFwicGFydGlhbHNcIjpwYXJ0aWFscyxcImRlY29yYXRvcnNcIjpjb250YWluZXIuZGVjb3JhdG9yc30pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcImZhY2V0LWJvZHlcXFwiIHN0eWxlPVxcXCJoZWlnaHQ6MTAwJTtvdmVyZmxvdzpoaWRkZW47XFxcIj5cIlxuICAgICsgKChzdGFjazEgPSBjb250YWluZXIuaW52b2tlUGFydGlhbChyZXF1aXJlKFwiQzpcXFxcVXNlcnNcXFxccm91c3R1cmdcXFxcc291cmNlXFxcXHJlcG9zXFxcXFNlYXJjaE1hc3RlclxcXFxGYWNldG9vXFxcXHNyY1xcXFxoYnNcXFxcZmFjZXQtYm9keS5oYnNcIiksZGVwdGgwLHtcIm5hbWVcIjpcImZhY2V0LWJvZHlcIixcImRhdGFcIjpkYXRhLFwiaGVscGVyc1wiOmhlbHBlcnMsXCJwYXJ0aWFsc1wiOnBhcnRpYWxzLFwiZGVjb3JhdG9yc1wiOmNvbnRhaW5lci5kZWNvcmF0b3JzfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L2Rpdj5cXG48L2Rpdj5cIjtcbn0sXCJ1c2VQYXJ0aWFsXCI6dHJ1ZSxcInVzZURhdGFcIjp0cnVlfSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaGJzL2ZhY2V0LW1haW4uaGJzXG4vLyBtb2R1bGUgaWQgPSAxMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBIYW5kbGViYXJzID0gcmVxdWlyZShcIkM6XFxcXFVzZXJzXFxcXHJvdXN0dXJnXFxcXHNvdXJjZVxcXFxyZXBvc1xcXFxTZWFyY2hNYXN0ZXJcXFxcRmFjZXRvb1xcXFxub2RlX21vZHVsZXNcXFxcaGFuZGxlYmFyc1xcXFxydW50aW1lLmpzXCIpO1xuZnVuY3Rpb24gX19kZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIChvYmouX19lc01vZHVsZSA/IG9ialtcImRlZmF1bHRcIl0gOiBvYmopOyB9XG5tb2R1bGUuZXhwb3J0cyA9IChIYW5kbGViYXJzW1wiZGVmYXVsdFwiXSB8fCBIYW5kbGViYXJzKS50ZW1wbGF0ZSh7XCJjb21waWxlclwiOls3LFwiPj0gNC4wLjBcIl0sXCJtYWluXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJjb250ZW50IGZhY2V0LWhlYWRlclxcXCI+XFxuICAgIDxoNSBjbGFzcz1cXFwiZ3VpIHN1YiBibHVlIGZsb2F0ZWQgbGVmdCBoZWFkZXJcXFwiPkZpbHRlcnMgU2VjdGlvbjwvaDU+XFxuICAgIDxkaXYgY2xhc3M9XFxcImd1aSBtaW5pIHJpZ2h0IGZsb2F0ZWQgYnV0dG9uc1xcXCI+XFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJndWkgbWluaSBpY29uIGJ1dHRvbiByZW1vdmUtYWxsXFxcIj5cXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiY2xvc2UgaWNvblxcXCI+PC9pPlxcbiAgICAgICAgPC9idXR0b24+XFxuICAgIDwvZGl2PlxcbjwvZGl2PlwiO1xufSxcInVzZURhdGFcIjp0cnVlfSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaGJzL2ZhY2V0LWhlYWRlci5oYnNcbi8vIG1vZHVsZSBpZCA9IDExXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IHsgSUZhY2V0T3B0aW9ucyB9IGZyb20gXCIuL0lGYWNldE9wdGlvbnNcIjtcblxuZXhwb3J0IGNsYXNzIENvbmZpZ1N0b3JlIHtcbiAgICBwcml2YXRlIG9wdGlvbnM6IElGYWNldE9wdGlvbnM7XG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogSUZhY2V0T3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IE9wdGlvbnMoKTogSUZhY2V0T3B0aW9ucyB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnM7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3RzbGludC1sb2FkZXI/P3JlZi0tMSEuL3NyYy90cy9jb25maWcvQ29uZmlnU3RvcmUudHMiXSwic291cmNlUm9vdCI6IiJ9